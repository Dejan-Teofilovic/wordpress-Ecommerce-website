(($,m,d)=>{'use strict';let _=null;const u=themifyScript.wc_css_url,h=themify_vars.theme_v;d.on('themify_theme_product_single_slider',e=>new Promise(o=>{const t=e.tfClass('tf_swiper-container'),n=t[0],c=t[1];setTimeout(()=>{{const e=n.tfClass('zoom');for(let t=e.length-1;-1<t;--t)e[t].tfOn('click',function(t){this.hasAttribute('data-zoom-init')||(this.setAttribute('data-zoom-init',!0),d.loadJs(themify_vars.theme_url+'/js/modules/wc/zoom',null,h).then(()=>{d.trigger('themify_theme_product_zoom',[this,t])}))},{passive:!0})}},800),(()=>{let t=m.tfId('themify_concate-css');return t=t&&t.nextElementSibling,Promise.all([d.loadCss('swiper/swiper','tf_swiper',themify_vars.s_v),d.loadCss(u+'single/slider','theme_single_slider_css',h,t),d.carousel('load')])})().then(()=>{if(n.tfClass('tf_swiper-slide').length<=1){const e=[n,c];for(let t=e.length-1;-1<t;--t)e[t]&&(e[t].classList.add('tf_swiper-container-initialized'),e[t].classList.remove('tf_hidden'),d.lazyScroll(e[t].querySelectorAll('[data-lazy]'),!0));o()}else d.imagesLoad(c).then(t=>{d.carousel(t,{direction:'vertical',visible:'auto',height:'auto',wrapvar:!1})}),d.imagesLoad(n).then(t=>{d.carousel(t,{slider_nav:!1,pager:!1,wrapvar:!1,height:'auto',thumbs:c,onInit(){const t=this.el.closest('.module-product-image')?this.el.closest('.themify_builder_row'):this.el.closest('.product'),e=null===_?t.tfClass('variations_form')[0]:null;if(e){let o=null;if('object'==typeof wc_additional_variation_images_local)_=!0,$(e).on('wc_additional_variation_images_frontend_image_swap_callback',(t,e)=>{if(!0===o){const i=m.createElement('div');i.innerHTML=e.main_images,d.loadJs(themify_vars.theme_url+'/js/modules/wc/additional_variations_images',null,h).then(()=>{galleryThumbs.destroy(!0,!0),this.destroy(!0,!0),d.trigger('themify_theme_additional_variations_images_init',[i.tfClass('woocommerce-product-gallery__image'),n,c])})}}).on('found_variation hide_variation',function(t){'hide_variation'===t.type?!0===o&&$(this).off('hide_variation'):o=!0});else{const r=this.el.tfTag('img')[0],a=c.tfTag('img')[0],i=r.cloneNode(!1),s=a.cloneNode(!1),l=r.parentNode.getAttribute('data-zoom-image');$(e).on('found_variation',(t,e)=>{d.loadCss(u+'reset-variations',h);const i=e.image;if('string'==typeof i.full_src){o=!0;const s=r.closest('.zoom');s&&($(s).trigger('zoom.destroy')[0].removeAttribute('data-zoom-init'),s.setAttribute('data-zoom-image',i.full_src)),r.setAttribute('src',i.src||i.full_src),r.setAttribute('srcset',i.srcset||''),a.setAttribute('src',i.gallery_thumbnail_src),this.slideTo(0,this.params.speed)}}).on('hide_variation',()=>{if(!0===o){r.setAttribute('src',i.hasAttribute('src')?i.getAttribute('src'):''),r.setAttribute('srcset',i.hasAttribute('srcset')?i.getAttribute('srcset'):''),a.setAttribute('src',s.hasAttribute('src')?s.getAttribute('src'):'');const t=r.closest('.zoom');t&&($(t).trigger('zoom.destroy')[0].removeAttribute('data-zoom-init'),t.setAttribute('data-zoom-image',l)),this.slideTo(0,this.params.speed),o=null}})}d.wc(!0)}o()}})})})}))})(jQuery,document,Themify);