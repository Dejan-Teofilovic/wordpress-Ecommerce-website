(($,o,a,l,r,n,d)=>{'use strict';const e={bodyCl:l.body.classList,v:r.theme_v,headerType:n.headerType,url:r.theme_url+'/',init(){this.jsUrl=this.url+'js/modules/',this.darkMode(),o.megaMenu(l.tfId('main-nav')),this.headerRender(),this.clickableItems(),this.headerVideo(),this.fixedHeader(),this.wc(),setTimeout(()=>{this.loadFilterCss(),o.on('infiniteloaded',()=>{this.loadFilterCss()})},800),setTimeout(()=>{this.backToTop()},2e3),this.resize(),this.doInfinite(l.tfId('loops-wrapper')),setTimeout(()=>{this.commentAnimation()},3500),this.builderActive(),l.tfId('mc_embed_signup')&&o.loadCss(this.url+'styles/modules/mail_chimp',null,this.v),this.revealingFooter()},builderActive(){!0===o.is_builder_active&&o.loadJs(this.jsUrl+'builderActive',null,this.v)},fixedHeader(){this.bodyCl.contains('fixed-header-enabled')&&'header-bottom'!==this.headerType&&'header-leftpane'!==this.headerType&&'header-minbar'!==this.headerType&&'header-rightpane'!==this.headerType&&'header-slide-down'!==this.headerType&&'header-none'!==this.headerType&&null!==l.tfId('headerwrap')&&o.fixedHeader()},revealingFooter(){this.bodyCl.contains('revealing-footer')&&null!==l.tfId('footerwrap')&&o.loadJs(this.jsUrl+'revealingFooter',null,this.v)},doInfinite(e,t){o.infinity(e,{scrollToNewOnLoad:n.scrollToNewOnLoad,scrollThreshold:!('auto'!==n.autoInfinite),history:!(t||!n.infiniteURL)&&'replace'})},loadFilterCss(){const t=['blur','grayscale','sepia','none'];for(let e=t.length-1;-1<e;--e)null!==l.querySelector('filter-'+t[e]+',filter-hover-'+t[e])&&o.loadCss(this.url+'styles/modules/filters/'+t[e],null,this.v)},headerVideo(){const e=l.tfId('headerwrap');if(e){const t=o.selectWithParent('[data-fullwidthvideo]',e);0<t.length&&o.loadJs(this.jsUrl+'headerVideo',null,this.v).then(()=>{o.trigger('themify_theme_header_video_init',[t])})}},wc(){a.woocommerce_params!==d&&o.loadJs(this.jsUrl+'themify.shop',null,this.v).then(()=>{o.trigger('themify_theme_shop_init',this)})},resize(){'header-menu-split'===this.headerType&&o.on('tfsmartresize',e=>{e&&e.w!==o.w&&($('#menu-icon').is(':visible')?0===$('.header-bar').find('#site-logo').length&&$('#site-logo').prependTo('.header-bar'):0===$('.themify-logo-menu-item').find('#site-logo').length&&$('.themify-logo-menu-item').append($('.header-bar').find('#site-logo')))})},clickableItems(){const t=l.tfClass('toggle-sticky-sidebar');for(let e=t.length-1;-1<e;--e)t[e].tfOn('click',function(){const e=l.tfId('sidebar'),t=this.classList;t.contains('open-toggle-sticky-sidebar')?(t.remove('open-toggle-sticky-sidebar'),t.add('close-toggle-sticky-sidebar'),e.classList.add('open-mobile-sticky-sidebar','tf_scrollbar')):(t.remove('close-toggle-sticky-sidebar'),t.add('open-toggle-sticky-sidebar'),e.classList.remove('open-mobile-sticky-sidebar','tf_scrollbar'))},{passive:!0});setTimeout(()=>{o.body.on('click','.post-content',function(e){if('A'!==e.target.tagName&&'BUTTON'!==e.target.tagName){const t=this.closest('.loops-wrapper');if(null!==t){const s=t.classList;if((s.contains('grid6')||s.contains('grid5')||s.contains('grid4')||s.contains('grid3')||s.contains('grid2'))&&(s.contains('polaroid')||s.contains('overlay')||s.contains('flip'))){const i=this.closest('.post').querySelector('a[data-post-permalink]');i&&i.href&&i.click()}}}})},1500)},headerRender(){o.sideMenu(l.tfId('menu-icon'),{close:'#menu-icon-close',side:'header-minbar-left'===this.headerType||'header-left-pane'===this.headerType||'header-slide-left'===this.headerType?'left':'right'});const i=l.tfClass('top-bar-widgets')[0];d===r.m_m_expand&&!i||o.on('sidemenushow',e=>{if('#mobile-menu'===e){if(d!==r.m_m_expand){const t=l.querySelectorAll('#main-nav>li.has-sub-menu');for(let e=t.length-1;-1<e;e--)t[e].className+=' toggle-on'}if(i){const s=l.tfId('main-nav-wrap');s.parentNode.insertBefore(i.cloneNode(!0),s.nextSibling)}}},!0)},backToTop(){if('header-bottom'===this.headerType){const t=l.tfClass('footer-tab')[0];t!==d&&t.tfOn('click',function(e){e.preventDefault();const t=this.classList,s=l.tfId('footerwrap'),i=t.contains('tf_close');t.toggle('ti-angle-down',i),t.toggle('tf_close',!i),s&&s.classList.toggle('expanded',!i)})}const e=l.tfClass('back-top')[0];if(e!==d){if(e.classList.contains('back-top-float')){const s=['scroll'],i=function(){e.classList.toggle('back-top-hide',this.scrollY<10)};o.isTouch&&(s.push('touchstart'),s.push('touchmove')),a.tfOn(s,i,{passive:!0})}e.tfOn('click',e=>{e.preventDefault(),e.stopPropagation(),o.scrollTo()})}},commentAnimation(){const e=l.tfId('commentform');e&&$(e).on('focus','input, textarea',function(){$(this).one('blur',function(){''===this.value?$(this).removeClass('filled').closest('#commentform p').removeClass('focused'):$(this).addClass('filled')}).closest('#commentform p').addClass('focused')})},toggleDarkMode(e=!0){let t=l.querySelector('link[href*="dark-mode"]');e?(t?t.media='all':o.loadCss(this.url+'styles/modules/dark-mode','dark-mode',this.v,l.body.lastChild),this.bodyCl.add('tf_darkmode')):(t&&(t.media='none'),this.bodyCl.remove('tf_darkmode'))},darkMode(){if(n.darkmode)if(1!=n.darkmode&&n.darkmode.start){const e=new Date,t=new Date,s=new Date,i=n.darkmode.start.split(':'),o=n.darkmode.end.split(':');t.setHours(i[0],i[1],0),parseInt(o[0])<parseInt(i[0])&&s.setDate(s.getDate()+1),s.setHours(o[0],o[1],0),e>=t&&e<s&&this.toggleDarkMode()}else{for(let e=l.tfClass('tf_darkmode_toggle'),t=e.length-1;-1<t;--t)e[t].tfOn('click',e=>{e.preventDefault();const t=!l.body.classList.contains('tf_darkmode');this.toggleDarkMode(t),localStorage.setItem('tf_darkmode',t?1:0)});parseInt(localStorage.getItem('tf_darkmode'))&&this.toggleDarkMode()}}};e.init()})(jQuery,Themify,window,document,themify_vars,themifyScript,void 0);