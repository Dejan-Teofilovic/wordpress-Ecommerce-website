(($,e,c)=>{'use strict';let i;const f={},a=e.isTouch?'click':'mouseover',l=function(s){if(!(e.w<i||s.target.closest('.mega-menu-posts'))){let e='mouseenter'===s.type||'focus'===s.type?this.tfClass('mega-link')[0]:s.target;if(e=(e=e.classList.contains('child-arrow')?e.closest('.has-mega-sub-menu').tfClass('mega-link')[0]:e).classList.contains('mega-link')?e:e.closest('.tf_mega_taxes .mega-link')){'click'===s.type&&s.preventDefault();const a=$(e),l=a.data('termid'),o=a.data('tax'),n=e.tfTag('a')[0].classList,m=a.closest('.mega-sub-menu');let t=a[0].tfClass('mega-menu-posts')[0];t||((t=c.createElement('div')).className='mega-menu-posts tf_left tf_box',a[0].appendChild(t)),m.find('.tf_mega_selected').removeClass('tf_mega_selected'),a.addClass('tf_mega_selected'),void 0!==f[l]?t.innerHTML=f[l]:n.contains('tf_loader')||(n.add('tf_loader'),$.ajax({url:themify_vars.ajax_url,type:'POST',data:{action:'themify_theme_mega_posts',termid:l,tax:o},complete(){n.remove('tf_loader')},success(e){f[l]=e,t.innerHTML=f[l]}}))}}};e.on('tf_mega_menu',(e,t)=>{const s=e.tfClass('tf_mega_taxes');i=t;for(let t=s.length-1;-1<t;--t){s[t].tfOn(a,l),'mouseover'==a&&s[t].tfOn('focusin',l,{passive:!0});let e=s[t].closest('.has-mega-sub-menu');e&&('mouseover'==a?(e.tfOn('mouseenter',l,{passive:!0}),e.querySelector('a').tfOn('focus',l.bind(e),{passive:!0})):e.tfClass('child-arrow')[0].tfOn('click',l))}},!0),e.isTouch||setTimeout(()=>{e.edgeMenu()},1500)})(jQuery,Themify,document);