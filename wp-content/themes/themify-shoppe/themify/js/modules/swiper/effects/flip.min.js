(function(a){'use strict';const b=a.Utils,c={setTranslate(){const a=this.slides,b=this.isHorizontal(),c=this.rtlTranslate;for(let d=0,e=a.length;d<e;++d){let e=a.eq(d),f=e[0].progress;this.params.flipEffect.limitRotation&&(f=Math.max(Math.min(e[0].progress,1),-1));let g=e[0].swiperSlideOffset,h=-180*f,i=h,j=0,k=-g,l=0;if(b?c&&(i=-i):(l=k,k=0,j=-i,i=0),e[0].style.zIndex=-Math.abs(Math.round(f))+a.length,this.params.flipEffect.slideShadows){let a=b?e.find(".tf_swiper-slide-shadow-left"):e.find(".tf_swiper-slide-shadow-top"),c=b?e.find(".tf_swiper-slide-shadow-right"):e.find(".tf_swiper-slide-shadow-bottom");0===a.length&&(a=this.$("<div class=\"tf_swiper-slide-shadow-"+(b?"left":"top")+"\"></div>"),e.append(a)),0===c.length&&(c=this.$("<div class=\"tf_swiper-slide-shadow-"+(b?"right":"bottom")+"\"></div>"),e.append(c)),a.length&&(a[0].style.opacity=Math.max(-f,0)),c.length&&(c[0].style.opacity=Math.max(f,0))}e.transform("translate3d("+k+"px, "+l+"px, 0) rotateX("+j+"deg) rotateY("+i+"deg)")}},setTransition(a){const b=this,c=this.slides,d=this.activeIndex;if(c.transition(a).find(".tf_swiper-slide-shadow-top, .tf_swiper-slide-shadow-right, .tf_swiper-slide-shadow-bottom, .tf_swiper-slide-shadow-left").transition(a),this.params.virtualTranslate&&0!==a){let a=!1;c.eq(d).transitionEnd(function(){a||!b||b.destroyed||(a=!0,b.animating=!1,b.$wrapperEl.trigger("transitionend"))})}}},d={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create(){b.extend(this,{flipEffect:{setTranslate:c.setTranslate.bind(this),setTransition:c.setTransition.bind(this)}})},on:{beforeInit(){if("flip"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"flip"),this.classNames.push(this.params.containerModifierClass+"3d");const a={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};b.extend(this.params,a),b.extend(this.originalParams,a)}},setTranslate(){"flip"!==this.params.effect||this.flipEffect.setTranslate()},setTransition(a){"flip"!==this.params.effect||this.flipEffect.setTransition(a)}}};a.use(d)})(TF_Swiper);