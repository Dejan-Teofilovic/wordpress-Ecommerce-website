(function(a){'use strict';const b=window.navigator.userAgent.toLowerCase(),c=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),d=0<=b.indexOf("safari")&&0>b.indexOf("chrome")&&0>b.indexOf("android"),e=a.Utils,f={setTranslate(){const a=this.slides,b=this.rtlTranslate,e=this.size,f=this.params.cubeEffect,g=this.isHorizontal(),h=this.virtual&&this.params.virtual.enabled;let i,j=0;f.shadow&&(g?(i=this.$wrapperEl.find(".tf_swiper-cube-shadow"),0===i.length&&(i=this.$("<div class=\"tf_swiper-cube-shadow\"></div>"),this.$wrapperEl.append(i)),i.css({height:this.width+"px"})):(i=this.$el.find(".tf_swiper-cube-shadow"),0===i.length&&(i=this.$("<div class=\"tf_swiper-cube-shadow\"></div>"),this.$el.append(i))));for(let c=0,d=a.length;c<d;++c){let d=a.eq(c),i=c;h&&(i=parseInt(d.attr("data-swiper-slide-index"),10));let k=90*i,l=Math.floor(k/360);b&&(k=-k,l=Math.floor(-k/360));let m=Math.max(Math.min(d[0].progress,1),-1),n=0,o=0,p=0;0==i%4?(n=4*-l*e,p=0):0==(i-1)%4?(n=0,p=4*-l*e):0==(i-2)%4?(n=e+4*l*e,p=e):0==(i-3)%4&&(n=-e,p=3*e+4*e*l),b&&(n=-n),g||(o=n,n=0);let q="rotateX("+(g?0:-k)+"deg) rotateY("+(g?k:0)+"deg) translate3d("+n+"px, "+o+"px, "+p+"px)";if(1>=m&&-1<m&&(j=90*i+90*m,b&&(j=90*-i-90*m)),d.transform(q),f.slideShadows){let a=g?d.find(".tf_swiper-slide-shadow-left"):d.find(".tf_swiper-slide-shadow-top"),b=g?d.find(".tf_swiper-slide-shadow-right"):d.find(".tf_swiper-slide-shadow-bottom");0===a.length&&(a=this.$("<div class=\"tf_swiper-slide-shadow-"+(g?"left":"top")+"\"></div>"),d.append(a)),0===b.length&&(b=this.$("<div class=\"tf_swiper-slide-shadow-"+(g?"right":"bottom")+"\"></div>"),d.append(b)),a.length&&(a[0].style.opacity=Math.max(-m,0)),b.length&&(b[0].style.opacity=Math.max(m,0))}}if(this.$wrapperEl.css({"transform-origin":"50% 50% -"+e/2+"px"}),f.shadow)if(g)i.transform("translate3d(0, "+(this.width/2+f.shadowOffset)+"px, "+-this.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+f.shadowScale+")");else{let a=Math.abs(j)-90*Math.floor(Math.abs(j)/90),b=1.5-(Math.sin(2*a*Math.PI/360)/2+Math.cos(2*a*Math.PI/360)/2),c=f.shadowScale,d=f.shadowScale/b,e=f.shadowOffset;i.transform("scale3d("+c+", 1, "+d+") translate3d(0, "+(this.height/2+e)+"px, "+-this.height/2/d+"px) rotateX(-90deg)")}const k=d||c?-e/2:0;this.$wrapperEl.transform("translate3d(0,0,"+k+"px) rotateX("+(g?0:j)+"deg) rotateY("+(g?-j:0)+"deg)")},setTransition(a){this.slides.transition(a).find(".tf_swiper-slide-shadow-top, .tf_swiper-slide-shadow-right, .tf_swiper-slide-shadow-bottom, .tf_swiper-slide-shadow-left").transition(a),this.params.cubeEffect.shadow&&!this.isHorizontal()&&this.$el.find(".tf_swiper-cube-shadow").transition(a)}},g={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create(){e.extend(this,{cubeEffect:{setTranslate:f.setTranslate.bind(this),setTransition:f.setTransition.bind(this)}})},on:{beforeInit(){if("cube"===this.params.effect){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");const a={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};e.extend(this.params,a),e.extend(this.originalParams,a)}},setTranslate(){"cube"!==this.params.effect||this.cubeEffect.setTranslate()},setTransition(a){"cube"!==this.params.effect||this.cubeEffect.setTransition(a)}}};a.use(g)})(TF_Swiper);