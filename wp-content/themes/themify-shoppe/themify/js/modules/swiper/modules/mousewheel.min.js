(function(a){'use strict';let b=null;const c=a.Utils,d=function(){if(null===b){const c="onwheel",d=document;if(b="onwheel"in d,!b){var a=d.createElement("div");a.setAttribute(c,"return;"),b="function"==typeof a[c]}!b&&d.implementation&&d.implementation.hasFeature&&!0!==d.implementation.hasFeature("","")&&(b=d.implementation.hasFeature("Events.wheel","3.0"))}return b},f={lastScrollTime:c.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event(){return-1<window.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":d()?"wheel":"mousewheel"},normalize(a){let b=0,c=0,d=0,e=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0),d=10*b,e=10*c,"deltaY"in a&&(e=a.deltaY),"deltaX"in a&&(d=a.deltaX),a.shiftKey&&!d&&(d=e,e=0),(d||e)&&a.deltaMode&&(1===a.deltaMode?(d*=40,e*=40):(d*=800,e*=800)),d&&!b&&(b=1>d?-1:1),e&&!c&&(c=1>e?-1:1),{spinX:b,spinY:c,pixelX:d,pixelY:e}},handleMouseEnter(){this.mouseEntered=!0},handleMouseLeave(){this.mouseEntered=!1},handle(a){let b=a;const d=this,g=d.params.mousewheel,h="container"===g.eventsTarged?d.$el:this.$(g.eventsTarged),i=d.rtlTranslate?-1:1;if(d.params.cssMode&&b.preventDefault(),!d.mouseEntered&&!h[0].contains(b.target)&&!g.releaseOnEdges)return!0;b.originalEvent&&(b=b.originalEvent);let j=0;const k=f.normalize(b);if(!g.forceToAxis)j=Math.abs(k.pixelX)>Math.abs(k.pixelY)?-k.pixelX*i:-k.pixelY;else if(d.isHorizontal()){if(Math.abs(k.pixelX)>Math.abs(k.pixelY))j=k.pixelX*i;else return!0;}else if(Math.abs(k.pixelY)>Math.abs(k.pixelX))j=k.pixelY;else return!0;if(0===j)return!0;if(g.invert&&(j=-j),!d.params.freeMode){const b={time:c.now(),delta:Math.abs(j),direction:Math.sign(j),raw:a};let e=d.mousewheel.recentWheelEvents;2<=e.length&&e.shift();const f=e.length?e[e.length-1]:void 0;if(e.push(b),f?(b.direction!==f.direction||b.delta>f.delta)&&d.mousewheel.animateSlider(b):d.mousewheel.animateSlider(b),d.mousewheel.releaseScroll(b))return!0}else{const a={time:c.now(),delta:Math.abs(j),direction:Math.sign(j)},e=d.mousewheel.lastEventBeforeSnap,f=e&&a.time<e.time+500&&a.delta<=e.delta&&a.direction===e.direction;if(!f){d.mousewheel.lastEventBeforeSnap=void 0,d.params.loop&&d.loopFix();let e=d.getTranslate()+j*g.sensitivity,h=d.isBeginning,i=d.isEnd;if(e>=d.minTranslate()&&(e=d.minTranslate()),e<=d.maxTranslate()&&(e=d.maxTranslate()),d.setTransition(0),d.setTranslate(e),d.updateProgress(),d.updateActiveIndex(),d.updateSlidesClasses(),(!h&&d.isBeginning||!i&&d.isEnd)&&d.updateSlidesClasses(),d.params.freeModeSticky){clearTimeout(d.mousewheel.timeout),d.mousewheel.timeout=void 0;let b=d.mousewheel.recentWheelEvents;15<=b.length&&b.shift();const e=b.length?b[b.length-1]:void 0,f=b[0];if(b.push(a),e&&(a.delta>e.delta||a.direction!==e.direction))b.splice(0);else if(15<=b.length&&500>a.time-f.time&&1<=f.delta-a.delta&&6>=a.delta){const e=0<j?.8:.2;d.mousewheel.lastEventBeforeSnap=a,b.splice(0),d.mousewheel.timeout=c.nextTick(function(){d.slideToClosest(d.params.speed,!0,void 0,e)},0)}d.mousewheel.timeout||(d.mousewheel.timeout=c.nextTick(function(){d.mousewheel.lastEventBeforeSnap=a,b.splice(0),d.slideToClosest(d.params.speed,!0,void 0,.5)},500))}if(f||d.emit("scroll",b),d.params.autoplay&&d.params.autoplayDisableOnInteraction&&d.autoplay.stop(),e===d.minTranslate()||e===d.maxTranslate())return!0}}return b.preventDefault?b.preventDefault():b.returnValue=!1,!1},animateSlider(a){return!!(6<=a.delta&&60>c.now()-this.mousewheel.lastScrollTime)||(0>a.direction?(!this.isEnd||this.params.loop)&&!this.animating&&(this.slideNext(),this.emit("scroll",a.raw)):(!this.isBeginning||this.params.loop)&&!this.animating&&(this.slidePrev(),this.emit("scroll",a.raw)),this.mousewheel.lastScrollTime=new window.Date().getTime(),!1)},releaseScroll(a){if(0>a.direction){if(this.isEnd&&!this.params.loop&&this.params.mousewheel.releaseOnEdges)return!0;}else if(this.isBeginning&&!this.params.loop&&this.params.mousewheel.releaseOnEdges)return!0;return!1},enable(){const a=f.event();if(this.params.cssMode)return this.wrapperEl.removeEventListener(a,this.mousewheel.handle),!0;if(!a)return!1;if(this.mousewheel.enabled)return!1;const b="container"===this.params.mousewheel.eventsTarged?this.$el:this.$(this.params.mousewheel.eventsTarged);return b.on("mouseenter",this.mousewheel.handleMouseEnter).on("mouseleave",this.mousewheel.handleMouseLeave).on(a,this.mousewheel.handle),this.mousewheel.enabled=!0,!0},disable(){const a=f.event();if(this.params.cssMode)return this.wrapperEl.addEventListener(a,this.mousewheel.handle),!0;if(!a)return!1;if(!this.mousewheel.enabled)return!1;const b="container"===this.params.mousewheel.eventsTarged?this.$el:this.$(this.params.mousewheel.eventsTarged);return b.off(a,this.mousewheel.handle),this.mousewheel.enabled=!1,!0}},g={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create(){c.extend(this,{mousewheel:{enabled:!1,enable:f.enable.bind(this),disable:f.disable.bind(this),handle:f.handle.bind(this),handleMouseEnter:f.handleMouseEnter.bind(this),handleMouseLeave:f.handleMouseLeave.bind(this),animateSlider:f.animateSlider.bind(this),releaseScroll:f.releaseScroll.bind(this),lastScrollTime:c.now(),lastEventBeforeSnap:void 0,recentWheelEvents:[]}})},on:{init(){!this.params.mousewheel.enabled&&this.params.cssMode&&this.mousewheel.disable(),this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy(){this.params.cssMode&&this.mousewheel.enable(),this.mousewheel.enabled&&this.mousewheel.disable()}}};a.use(g)})(TF_Swiper);