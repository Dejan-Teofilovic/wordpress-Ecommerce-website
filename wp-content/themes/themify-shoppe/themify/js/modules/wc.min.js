(($,d,_,f,w,p)=>{'use strict';let a=!1,m=!1,u=_.querySelector('form.variations_form select'),g=[];const v=w.wc_js['wc-add-to-cart-variation'],h=w.wc_js.wc_additional_variation_images_script,y=_.tfClass('woocommerce-ordering')[0],k=function(){this.closest('form').submit()},o=_.querySelectorAll('input.qty[min]'),r=async e=>{if(w.photoswipe){e.preventDefault(),e.stopImmediatePropagation();const t=w.wc_version,o=e.currentTarget;await Promise.all([d.loadCss(w.photoswipe.main,null,t),d.loadCss(w.photoswipe.skin,null,t)]),setTimeout(()=>{o.click()},5)}},i=async(t,o,c,a)=>{const i=w.wc_js,e=w.wc_version,r=t&&!0!==t,s=e=>{delete i[e],0===Object.keys(i).length&&(d.body.off('click.tf_wc_click').off('added_to_cart removed_from_cart',j),y&&y.tfOff('change',k,{passive:!0,once:!0}),setTimeout(()=>{if(t&&!0!==t&&'load'!==t)if('click'===t.type)for(let e=0,t=g.length;e<t;++e)g[e].isConnected&&g[e].click();else d.body.triggerHandler(t.type,[o,c,a]);g=null,d.trigger('tf_wc_js_load')},5))},l=async()=>{i.woocommerce&&await d.loadJs(i.woocommerce,$.scroll_to_notices!==p,-1===i.woocommerce.indexOf('ver=',12)&&e),s('woocommerce')},n=async()=>{const t=_.tfClass('variations_form');if(t[0]||0<_.tfClass('wcpa_form_outer').length){h&&d.loadJs(h,$.wc_additional_variation_images_frontend!==p,-1===h.indexOf('ver=',12)&&e),await d.loadJs(w.includesURL+'js/underscore.min',void 0!==f._,w.wp),await Promise.all([d.loadJs(w.includesURL+'js/wp-util.min',f.wp!==p&&p!==f.wp.template,w.wp),d.loadJs(v,void 0!==$.fn.wc_variation_form,e)]);for(let e=t.length-1;-1<e;--e)$(t[e]).wc_variation_form();u&&m&&d.triggerEvent(u,'change'),u=m=null}};!0===r&&(i['jquery-blockui']&&d.loadJs(i['jquery-blockui'],$.blockUI===p,-1===i['jquery-blockui'].indexOf('ver=',12)&&e).then(()=>{s('jquery-blockui')}),i['wc-add-to-cart']?d.loadJs(i['wc-add-to-cart'],w.wc_js_normal!==p,-1===i['wc-add-to-cart'].indexOf('ver=',12)&&e).then(()=>{s('wc-add-to-cart'),n()}):n(),$.fn.wc_product_gallery||'undefined'==typeof wc_single_product_params?delete i['wc-single-product']:i['wc-single-product']&&d.loadJs(i['wc-single-product'],$.fn.wc_product_gallery!==p,-1===i['wc-single-product'].indexOf('ver=',12)&&e).then(()=>{s('wc-single-product'),d.trigger('tf_init_photoswipe')})),i['js-cookie']?(await d.loadJs(i['js-cookie'],!!f.Cookies,-1===i['js-cookie'].indexOf('ver=',12)&&e),await d.loadJs(i['wc-cart-fragments'],w.wc_js_normal!==p,-1===i['wc-cart-fragments'].indexOf('ver=',12)&&e),s('js-cookie'),s('wc-cart-fragments'),!0===r&&l()):l()},j=(e,t,o,c)=>{!1===a&&(a=!0,i(e,t,o,c))};if(d.body.one('added_to_cart removed_from_cart',j).on('click.tf_wc_click','.ajax_add_to_cart,.remove_from_cart_button',e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains('loading')||(g.push(e.target),e.target.classList.add('loading')),!1===a&&(a=!0,i(e))}),null!==u){const c=e=>{if(!m){const t=d.isTouch?'touchstart':'mousemove';f.tfOff('scroll '+t,c,{once:!0,passive:!0}),u.tfOff('change',c,{once:!0,passive:!0}),e&&'change'===e.type&&e.stopImmediatePropagation(),!1===a&&(a=m=!0,i('load'))}};f.tfOn('scroll '+(d.isTouch?'touchstart':'mousemove'),c,{once:!0,passive:!0}),u.tfOn('change',c,{once:!0,passive:!0}),u.value&&d.requestIdleCallback(c,1500)}y&&y.tfOn('change',k,{passive:!0,once:!0});for(let t=o.length-1;-1<t;--t){let e=parseFloat(o[t].min);0<=e&&parseFloat(o[t].value)<e&&(o[t].value=e)}delete w.wc_js['wc-add-to-cart-variation'],delete w.wc_js.wc_additional_variation_images_script,d.on('tf_wc_init',e=>{!0===e||null!==_.querySelector('.woocommerce-input-wrapper,.woocommerce-store-notice')?i('load'):i(!0),(async()=>{const e=_.tfClass('tf_wc_accordion')[0];e&&(await d.loadJs('wc-accordion-tabs'),d.trigger('tf_wc_acc_tabs_init',[e]))})(),d.trigger('tf_init_photoswipe')}).on('tf_init_photoswipe',e=>{if($.fn.wc_product_gallery&&'undefined'!=typeof wc_single_product_params)if(wc_single_product_params.photoswipe_enabled){const i=(e=e||_).tfClass('woocommerce-product-gallery');for(let a=i.length-1;-1<a;--a){let t=$(i[a]),e=i[a].tfClass('woocommerce-product-gallery__trigger')[0];if(!t.data('product_gallery')){t.wc_product_gallery(wc_single_product_params);let e=t.data('flexslider');e&&setTimeout(()=>{e.resize()},100)}e&&e.tfOn('click',r,{once:!0});let o=i[a].tfClass('woocommerce-product-gallery__image'),c='function'==typeof $.fn.flexslider&&wc_single_product_params.flexslider_enabled&&1<o.length;if(!c&&1===o.length){let e=o[0].tfTag('a')[0];e&&e.tfOn('click',r,{once:!0})}}}else d.off('tf_init_photoswipe')}).trigger('tf_init_photoswipe')})(jQuery,Themify,document,window,themify_vars,void 0);