((E,x)=>{'use strict';let r=!1;const C=E.click,o=/iPhone|iPad|iPod|Mac OS/i.test(window.navigator.userAgent),l='tf_video_',k=e=>{e=1/0===e?0:e;const t=new Date(1e3*e).toISOString().substr(11,8).split(':');return'00'===t[0]&&t.splice(0,1),t.join(':')},i=e=>e.requestFullscreen?e.requestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.webkitrequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullscreen?e.mozRequestFullScreen():void 0,n=()=>{try{return x.exitFullscreen?x.exitFullscreen():x.webkitExitFullscreen||x.webkitExitFullscreen?x.webkitExitFullscreen():x.mozCancelFullScreen?x.mozCancelFullScreen():x.cancelFullScreen?x.cancelFullScreen():!!x.msExitFullscreen&&x.msExitFullscreen()}catch(e){return!1}},F=e=>x.exitFullscreen?'':x.webkitExitFullscreen||e.webkitSupportsFullscreen?'webkit':x.mozCancelFullScreen?'moz':!!x.msExitFullscreen&&'ms',P=e=>{const t=F(e);return!1!==t&&(e.hasOwnProperty('webkitDisplayingFullscreen')?e.webkitDisplayingFullscreen:''===t?x.fullscreenElement:x[t+'FullscreenElement'])},T=(e,t)=>{const s='http://www.w3.org/2000/svg',a=x.createElementNS(s,'use'),i=x.createElementNS(s,'svg');return e='tf-'+e,t=t?e+' '+t:e,i.setAttribute('class','tf_fa '+t),a.setAttributeNS(null,'href','#'+e),i.appendChild(a),i},c=e=>{const a=l+e+'=';for(let t=x.cookie.split(';'),s=t.length-1;-1<s;--s){let e=t[s];for(;' '===e[0];)e=e.substring(1,e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null},O=(e,t,s)=>{let a='';if(e=l+e,s){const i=new Date;i.setTime(i.getTime()+864e5*s),a=';expires='+i.toUTCString()}x.cookie=e+'='+(t||'')+a+';SameSite=strict;path=/'},L=e=>E.hash(e.currentSrc.split('.').slice(0,-1).join('.'));class p{constructor(t,e){const s=x.createElement('div');this.wrap=x.createElement('div'),s.className='tf_vd_root',this.wrap.className='wrap tf_abs_t tf_w tf_h',s.attachShadow({mode:'open'}).appendChild(this.wrap),this.el=t,this.opt=e,this.isPlayList=this.opt&&this.opt.tracks,this.loadPrms=new Promise(e=>{t.readyState<3?E.requestIdleCallback(()=>{t.tfOn('canplay',e,{passive:!0,once:!0}).load()},-1,200):e()}),this.init()}init(){const e=x.createDocumentFragment(),t=this.el,s=this.wrap.getRootNode().host,a=t.parentNode,i=x.createElement('div'),l=parseFloat(c(L(t)))||0,n=x.createElement('button');i.className='tf_loader tf_abs_c tf_hide',n.className='play flex big_btn tf_abs_c',n.type='button',a.tabIndex=0,t.hasAttribute('data-hide-controls')||e.append(n,this.controls()),e.appendChild(i),this.isPlayList&&e.appendChild(this.tracks()),requestAnimationFrame(async()=>{0<l&&l<t.duration&&(t.currentTime=l),t.setAttribute('webkit-playsinline','1'),t.setAttribute('playsinline','1'),t.removeAttribute('controls'),this.wrap.style.display='none',this.wrap.appendChild(e),a.appendChild(s),await Promise.all([this.loadPrms,E.loadCss(E.url+'css/base.min','tf_base',null,this.wrap),E.loadCss('video','tf_video',null,this.wrap),r]),t.hasAttribute('data-hide-controls')||this.wrap.appendChild(x.tfId('tf_svg').cloneNode(!0)),this.airPlay(),this.wrap.style.display='',t.tfOn('seeking waiting emptied pause play playing ended',e=>{this.events(e)},{passive:!0}),this.wrap.tfOn(C,e=>{this.click(e)},{passive:!0}),a.classList.remove('tf_lazy'),!this.isPlayList&&t.dataset.hoverPlay?(n.style.pointerEvents='none',this.hoverPlay()):t.dataset.autoplay&&this.playVideo()})}click(e){const t=e.target,s=t.closest('.sk'),a=this.el,i=this.wrap.classList;e.stopImmediatePropagation(),t.closest('.controls')&&!t.classList.contains('play')||(a.paused||!E.isTouch||t.classList.contains('play')||!s&&t.classList.contains('show')?(i.remove('show'),a.paused?this.playVideo():a.pause()):(i.add('show'),i.remove('hide_ctl'),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{i.remove('show'),this.timeout=null},2500),s&&(a.currentTime+=s.classList.contains('sk_l')?-15:15)))}hoverPlay(e){const s=(e=e||this.wrap).tfTag('video')[0]||this.el,t=async t=>{if(!x.fullscreenElement||t.closest('.pl_v')){try{await this.playVideo(s,!0)}catch(e){}t.tfOn('mouseleave',e=>{s.paused||x.fullscreenElement&&!t.closest('.pl_v')||(s.pause(),s.currentTime=0)},{passive:!0,once:!0})}};e.tfOn('mouseenter',e=>{t(e.currentTarget)},{passive:!0}),(s.dataset.forceplay||e.matches(':hover'))&&t(e)}showLowPowerControls(){if(this.el.hasAttribute('data-hide-controls')&&!this.wrap.tfClass('lpw_play')[0]){const e=x.createElement('button');e.className='play flex tf_abs_t lpw_play',e.type='button',this.wrap.appendChild(e)}}async playVideo(t,s){if(await this.loadPrms,(t=t||this.el).paused){t.dataset.playing||(t.dataset.playing=1);try{await t.play()}catch(e){try{if(t.muted)throw e;t.muted=!0,await t.play()}catch(e){if(t.paused&&(this.showLowPowerControls(),s))throw e}}}}events(e){const t=e.type,s=this.el,a=this.wrap.classList;if('play'===t){this.togglePlayList(!0),a.add('playing');for(let e=x.tfTag('video'),t=e.length-1;-1<t;--t)e[t]===s||4!==e[t].readyState||e[t].paused||!0===e[t].muted||e[t].pause()}else if('pause'===t)a.remove('playing');else if('seeking'===t||'waiting'===t||'emptied'===t){const i='seeking'===t?'seeked':'playing';a.add('wait'),s.tfOn(i,()=>{a.remove('wait')},{passive:!0,once:!0})}else if('playing'===t||'ended'===t)if(this.isPlayList&&'ended'===t){const l=this.wrap,n=l.tfClass('pl_sel')[0].nextElementSibling||l.tfClass('pl_v')[0];E.triggerEvent(n,C)}else a.toggle('end','ended'===t)}airPlay(){window.WebKitPlaybackTargetAvailabilityEvent&&this.el.tfOn('webkitplaybacktargetavailabilitychanged',e=>{if('available'===e.availability){const t=x.createElement('button'),s=this.wrap.tfClass('full')[0];s&&(t.className='airplay flex',t.tfOn(C,()=>{this.el.webkitShowPlaybackTargetPicker()},{passive:!0}).appendChild(T('fas-airplay')),s.before(t))}},{passive:!0,once:!0})}pip(){const e=this.el,t=x.createDocumentFragment();if(!e.hasAttribute('disablePictureInPicture')&&x.pictureInPictureEnabled){const s=x.createElement('button');s.tfOn(C,e=>{this.pipToggle()},{passive:!0}).className='pip flex',e.tfOn('enterpictureinpicture',()=>{this.wrap.classList.add('tf_is_pip')},{passive:!0}).tfOn('leavepictureinpicture',()=>{this.wrap.classList.remove('tf_is_pip')},{passive:!0}),s.appendChild(T('fas-external-link-alt')),t.appendChild(s)}return t}pipToggle(){const e=this.el;try{e.webkitSupportsPresentationMode?e.webkitSetPresentationMode('picture-in-picture'===e.webkitPresentationMode?'inline':'picture-in-picture'):(P(e)&&n(),e!==x.pictureInPictureElement?e.requestPictureInPicture():x.exitPictureInPicture())}catch(e){}}fullScreenToggle(e){const t=e.target,s=this.el;if('dblclick'!==e.type||t&&!t.closest('.controls'))if(P(s))n(s);else{const a=async()=>{try{await i(s.parentNode)}catch(e){try{await i(s.parentNode)}catch(e){}}};x.pictureInPictureElement||'picture-in-picture'===s.webkitPresentationMode?(this.pipToggle(),setTimeout(a,80)):a()}}controls(){let n=!1,a=!0;const e=x.createDocumentFragment(),r=this.el,i=F(r),t=L(r),s=x.createElement('div'),l=r.parentNode,o=x.createElement('div'),c=x.createElement('div'),p=x.createElement('div'),d=x.createElement('div'),u=x.createElement('div'),f=x.createElement('div'),h=x.createElement('div'),m=x.createElement('button'),v=x.createElement('button'),_=x.createElement('button'),w=x.createElement('button'),y=x.createElement('input');if(l.classList,s.className='controls flex tf_abs_t tf_box tf_w',u.className='btns',o.className='pr_wr tf_textl tf_rel',c.className=p.className=y.className='tf_abs_t tf_w tf_h',c.className+=' ld',p.className+=' cur',y.className+=' pr tf_block tf_opacity',y.type='range',y.value=y.min=0,y.max=100,m.className='play flex',m.type=v.type=_.type=w.type='button',_.className='sk sk_l flex tf_opacity',w.className='sk sk_r flex tf_opacity',f.className='time',h.className='total',d.className='htime tf_abs_t flex tf_box',d.style.display='none',v.className='full flex',this.loadPrms.then(()=>{f.textContent=k(r.currentTime),h.textContent=k(r.duration),E.isTouch||o.tfOn('pointerenter',function(e){if(!isNaN(r.duration)){d.style.display='';const a=this.clientWidth,i=parseFloat(d.clientWidth/2),l=r.duration,t=e=>{const t=void 0!==e.layerX?e.layerX:e.offsetX,s=E.isRTL?t+i:t-i;0<s&&0<=t&&t<=a&&(d.style.transform='translateX('+s+'px)',!1===n&&(d.textContent=k(parseFloat(t/a)*l)))};this.tfOn('pointerleave',function(){d.style.display='none',this.tfOff('pointermove',t,{passive:!0})},{passive:!0,once:!0}).tfOn('pointermove',t,{passive:!0})}},{passive:!0}),y.tfOn('input',function(e){if(!isNaN(r.duration)){r.paused||!0!==a||r.pause(),n=!0;const t=parseInt(this.value),s=100===t?r.duration-1:parseFloat(t*r.duration/100).toFixed(4);r.currentTime=s,E.isTouch||(d.textContent=k(s))}},{passive:!0}).tfOn('change',e=>{isNaN(r.duration)||(n=a=!1,r.paused&&r.play().catch({}).finally(()=>{a=!0}))},{passive:!0}),r.tfOn('progress',function(){0<this.buffered.length&&(c.style.transform='scaleX('+parseFloat(this.buffered.end(0)/this.duration).toFixed(4)+')')},{passive:!0}).tfOn('durationchange',function(){h.textContent=k(this.duration)},{passive:!0}).tfOn('timeupdate',function(){if(!isNaN(this.duration)){f.textContent=k(this.currentTime);const e=parseFloat(this.currentTime/r.duration);p.style.transform='scaleX('+e.toFixed(4)+')',!1===n&&(y.value=parseInt(100*e)),O(t,this.currentTime,30)}},{passive:!0})}),u.append(this.downloadBtn(),this.volumeControl(),this.pip()),!1!==i){let t=!1,s=!1;const g=()=>{b(!0),N()},b=e=>{t=!0!==t&&!0!==e,this.wrap.classList.toggle('hide_ctl',t)},N=()=>{s&&clearTimeout(s),s=setTimeout(b,3e3)};v.tfOn(C,e=>{this.fullScreenToggle(e)},{passive:!0}).appendChild(T('fas-expand')),E.isTouch||this.wrap.tfOn('dblclick',e=>{this.fullScreenToggle(e)},{passive:!0}),l.tfOn(i+'fullscreenchange',e=>{P(r)?(this.wrap.classList.add('fullscreen'),l.tfOn('pointermove',g,{passive:!0}),r.tfOn('pause',g,{passive:!0}),N()):(this.wrap.classList.remove('fullscreen','hide_ctl'),s&&(clearTimeout(s),s=null),r.tfOff('pause',g,{passive:!0}),l.tfOff('pointermove',g,{passive:!0}))},{passive:!0}),u.appendChild(v)}return o.append(c,y,p,d),s.append(m,f,o,h,u),w.innerHTML=_.innerHTML='<span class="tf_abs_c">15</span>',e.append(_,w,s),e}volumeControl(){const e=x.createElement('div'),t=x.createElement('div'),s=x.createElement('button'),a=x.createElement('input'),i=this.el,l=L(i),n=c('vol_'+l)||-1,r=x.createDocumentFragment();return!1!==o&&'mobile'===E.device||(s.type='button',n?i.volume=-1<n?n:.5:i.muted=0,s.append(T('fas-volume-up','tf_abs_t tf_w tf_h'),T('fas-volume-mute','tf_abs_t tf_w tf_h')),e.appendChild(s),a.min=0,a.max=100,a.type='range',a.value=-1<n?100*n:50,a.className='vol tf_block tf_overflow tf_w tf_h',t.className='vol_in',e.className='vol_wr flex tf_rel',s.className='mute tf_overflow tf_rel',i.muted&&(s.className+=' muted'),a.tfOn('input',function(e){const t=parseFloat(this.value/100).toFixed(3);i.volume=t,i.muted=!(0<t)},{passive:!0}),i.tfOn('volumechange',function(){s.classList.toggle('muted',!0===this.muted||0===this.volume),O('vol_'+l,this.volume,120)},{passive:!0}),s.tfOn(C,()=>{i.muted=!i.muted,i.muted||0!==i.volume||(a.value=50,E.triggerEvent(a,'input'))},{passive:!0}),t.appendChild(a),e.appendChild(t),r.appendChild(e)),r}downloadBtn(){const e=x.createDocumentFragment(),t=x.createElement('a'),s=this.el;return s.hasAttribute('data-download')&&(t.setAttribute('download',''),t.href=s.src,t.className='download flex',t.appendChild(T('fas-download')),e.appendChild(t)),e}togglePlayList(e){this.wrap.classList.toggle('pl_hide',e)}tracks(){const o=this.el,c=this.opt.tracks,e=x.createElement('div'),t=x.createElement('div'),s=x.createElement('div'),a=x.createElement('div'),i=x.createElement('button'),l=x.createElement('button'),p=x.createDocumentFragment(),n=x.createDocumentFragment(),r=x.createDocumentFragment(),d=new IntersectionObserver((a,i)=>{for(let t=a.length-1;-1<t;--t)if(!0===a[t].isIntersecting){let s=a[t].target,e=s.tfTag('video')[0];if(i.unobserve(s),4===e.readyState)s.tfClass('pl_dur')[0].textContent=k(e.duration);else{let t=x.createElement('div');t.className='tf_loader tf_abs_t',e.after(t),e.tfOn('durationchange',e=>{s.tfClass('pl_dur')[0].textContent=k(e.currentTarget.duration),t.remove(),this.hoverPlay(s)},{passive:!0,once:!0}).load()}}},{root:t,threshold:.3}),u=()=>{requestAnimationFrame(()=>{const s=this.wrap.tfClass('pl')[0],e=s.tfClass('pl_sel')[0],a=this.el.currentSrc.replace('#t=1','')+'#t=1';let i;for(let e=s.tfTag('video'),t=e.length-1;-1<t;--t)if(a===e[t].src){i=e[t];break}if(e&&e.classList.remove('pl_sel'),i){const t=i.closest('.pl_v');s.parentNode.tfClass('pl_sel_title')[0].textContent=t.title,t.classList.add('pl_sel')}})};s.className='pl_wr flex tf_abs_t tf_h',t.className='pl tf_w tf_h tf_box tf_abs_t tf_scrollbar',e.className='tf_playlist_current',i.className='pl_close tf_close tf_box',l.className='pl_open tf_box tf_hide',l.type=i.type='button',a.className='pl_sel_title tf_overflow';for(let r=0,e=c.length;r<e;++r)if(c[r].src){c[r].src=c[r].src.trim();let e=x.createElement('div'),t=x.createElement('div'),s=x.createElement('div'),a=x.createElement('span'),i=x.createElement('span'),l=x.createElement('video'),n=c[r].dimensions?c[r].dimensions.resized||c[r].dimensions.original:{width:o.width,height:o.height};l.preload='none',l.width=n.width,l.height=n.height,l.src=c[r].src+'#t=1',l.className='tf_w tf_h',l.style.aspectRatio=n.width/n.height,l.muted=!0,!c[r].type||l.canPlayType(c[r].type)?(e.className='pl_v tf_rel tf_box',s.className='pl_info flex tf_overflow',t.className='pl_dur tf_textc',d.observe(e),c[r].title&&(a.className='pl_title tf_overflow',a.textContent=e.title=c[r].title,s.appendChild(a)),c[r].caption&&(i.className='pl_cap tf_overflow',i.textContent=c[r].caption,s.appendChild(i)),e.append(l,s,t),p.appendChild(e)):c.slice(r,1)}else c.slice(r,1);s.tfOn(C,e=>{e.stopPropagation();const t=e.target?e.target.closest('.pl_v,.pl_close'):null;if(t)if(t.classList.contains('pl_close'))this.togglePlayList(!t.closest('.pl_hide'));else{o.pause();const s=t.tfTag('video')[0];requestAnimationFrame(()=>{o.style.aspectRatio=s.style.aspectRatio,o.src=s.currentSrc.replace('#t=1',''),requestAnimationFrame(()=>{this.playVideo()})})}},{passive:!0}),o.tfOn('durationchange',u,{passive:!0}),l.tfOn(C,e=>{e.stopImmediatePropagation(),this.togglePlayList(!1)},{passive:!0});for(let e=8;-1<e;--e){let e=x.createElement('span');e.className='tf_h tf_w',r.appendChild(e)}return l.appendChild(r),t.appendChild(p),s.append(a,i,t),n.append(l,s),4===o.readyState?setTimeout(()=>{u()},100):o.tfOn('loadeddata',u,{passive:!0,once:!0}),n}}E.on('tf_video_init',l=>{!1===r&&(r=E.fonts(['tf-fas-volume-mute','tf-fas-download','tf-fas-volume-up','tf-fas-external-link-alt','tf-fas-airplay','tf-fas-expand']));for(let i=(l=void 0===l.length?[l]:l).length-1;-1<i;--i){let e=l[i],t=e.parentNode,s=t.parentNode,a;if(s.classList.contains('wp-video-playlist')){let e=s.tfClass('tf-playlist-script')[0]||s.tfClass('wp-playlist-script')[0];if(e)try{'video'!==(a=JSON.parse(e.textContent)).type&&(a=!1)}catch(e){a=!1}}if(!e.hasAttribute('src')&&!e.tfTag('source')[0]){if(!a||!a.tracks)continue;let s=a.tracks[0].src;if(!s)for(let e=1,t=a.tracks.length;e<t;++e)if(a.tracks[e].src){s=a.tracks[e].src;break}if(!s)continue;e.src=s}if(!t.classList.contains('tf_vd_lazy')){const n=x.createElement('div');n.className='tf_vd_lazy tf_w tf_h tf_box tf_rel tf_overflow tf_lazy',n.appendChild(e),t.appendChild(n)}new p(e,a)}})})(Themify,document);