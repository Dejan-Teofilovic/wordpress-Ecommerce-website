((t,i)=>{'use strict';const n=[];let l=null;class a{constructor(e,s){this.element=e;const t={panel:'#mobile-menu',close:'',side:'right',hasOverlay:!0,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null},i={'#':'','.':'',' ':'-'};!s.panel&&e.hasAttribute('href')&&(s.panel=e.getAttribute('href'),s.panel&&'#'!==s.panel||(s.panel=t.panel)),this.settings=Object.assign({},t,s),this.panelVisible=!1,this.panelCleanName=this.settings.panel.replace(/#|\.|\s/g,e=>i[e]),this.init()}init(){if(null===l&&!0===this.settings.hasOverlay&&((l=i.createElement('div')).className='body-overlay',l.tfOn('click',()=>{for(let e=n.length-1;-1<e;--e)n[e].hidePanel()},{passive:!0}),i.body.appendChild(l)),this.element.tfOn('click',e=>{if(e.preventDefault(),this.panelVisible)this.hidePanel();else if(this.showPanel(),!e.screenX||!e.screenY){const s=i.querySelector(this.settings.panel+' a');null!==s&&s.focus()}}),''!==this.settings.close){const e=i.querySelector(this.settings.close);null!==e&&e.tfOn('click',e=>{e.preventDefault(),this.hidePanel()})}}showPanel(){if(!1===this.panelVisible){t.trigger('tf_fixed_header_remove_revelaing');const e=this.settings.panel,s=i.querySelector(e);s.style.display='block',setTimeout(()=>{this.settings.beforeShow&&this.settings.beforeShow.call(this),!1===this.panelVisible&&(null!==s&&(s.tfOn('transitionend',()=>{this.settings.afterShow&&this.settings.afterShow.call(this),t.trigger('sidemenushow',[e,this.settings.side,this])},{passive:!0,once:!0}).classList.remove('sidemenu-off'),s.classList.add('sidemenu-on')),i.body.classList.add(this.panelCleanName+'-visible','sidemenu-'+this.settings.side),null!==l&&l.classList.add('body-overlay-on'),this.panelVisible=!0)},5)}}hidePanel(e){if(!0===this.panelVisible){const s=i.querySelector(this.settings.panel);this.settings.beforeHide&&this.settings.beforeHide.call(this),null!==s&&(s.tfOn('transitionend',function(){this.style.display=''},{passive:!0,once:!0}).classList.remove('sidemenu-on'),s.classList.add('sidemenu-off')),i.body.classList.remove(this.panelCleanName+'-visible'),e!==this.settings.side&&i.body.classList.remove('sidemenu-'+this.settings.side),this.settings.afterHide&&this.settings.afterHide.call(this),t.trigger('sidemenuhide.themify',[this.settings.panel]),null!==l&&l.classList.remove('body-overlay-on'),this.panelVisible=!1}}}t.on('tf_sidemenu_init',(s,t)=>{for(let e=(s=void 0===s.length?[s]:s).length-1;-1<e;--e)n.push(new a(s[e],t))}).on('tf_side_menu_hide_all',()=>{for(let e=n.length-1;-1<e;--e)n[e].hidePanel()}),i.body.classList.add('sidemenu-active'),'undefined'!=typeof themify_vars&&t.on('tfsmartresize',e=>{e&&e.w>themify_vars.menu_point&&t.trigger('tf_side_menu_hide_all')})})(Themify,document);