let TF_License;((s,n,f)=>{'use strict';TF_License={el:null,init(){if(this.el||(this.el=f.tfId('license-modal')),!this.el){this.el=f.createElement('div');const e=themify_js_vars.license,t=f.createElement('h2'),a=f.createElement('p'),i=f.createElement('p'),s=f.createElement('p'),n=f.createElement('p'),l=f.createElement('span'),c=f.createElement('span'),o=f.createElement('input'),r=f.createElement('input'),m=f.createElement('a'),h=f.createElement('a'),p=f.createElement('i'),d=f.tfId('themify')||f.body;this.el.className='themify-modal tf_opacity tf_hide',this.el.id='license-modal',t.innerHTML=e.title,a.innerHTML=e.link,l.textContent=e.labels.name,c.textContent=e.labels.key,m.textContent=e.labels.update,r.value=e.key||'',o.value=e.username||'',o.name='themify_username',r.name='updater_licence',o.type=r.type='text',o.autocomplete=r.autocomplete='off',c.className=l.className='label',h.href=m.href='#',m.className='update-license button big-button themify_button',h.className='close',p.className='tf_close',i.append(l,o),s.append(c,r),n.appendChild(m),h.appendChild(p),this.el.append(t,a,i,s,n,h),h.tfOn('click',e=>{e.preventDefault(),e.stopPropagation(),this.close()}),d.appendChild(this.el)}return this.show()},show(){return new Promise(e=>{this.el.classList.contains('tf_opacity')?(this.el.classList.remove('tf_hide'),requestAnimationFrame(()=>{this.el.tfOn('transitionend',e,{passive:!0,once:!0}).classList.remove('tf_opacity')})):e()})},close(){return new Promise(t=>{this.el.tfOn('transitionend',e=>{this.el.classList.add('tf_hide'),t()},{passive:!0,once:!0}).classList.add('tf_opacity')})},async update(){await s.loadJs(s.url+'js/admin/notification',!!n.TF_Notification);try{const e=this.el.querySelector('[name="themify_username"]').value,t=this.el.querySelector('[name="updater_licence"]').value,a={action:'themify_update_license',nonce:themify_js_vars.nonce,themify_username:e,updater_licence:t};if(''===e||''===t)throw Error(themify_js_vars.empty_li);const i=await s.fetch(a);if(!i.success)throw Error(i.data);await this.close()}catch(e){throw TF_Notification.showHide('error',e,3e3),e}}}})(Themify,window,document);