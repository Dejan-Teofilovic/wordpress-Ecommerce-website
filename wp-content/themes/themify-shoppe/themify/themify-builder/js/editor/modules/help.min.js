let TB_Help;((o,r,i,c)=>{'use strict';TB_Help={el:null,async init(){try{const t=await o.LocalFetch({action:'tb_help'},'html'),e=(i.document.body.appendChild(t),i.document.tfId('tmpl-help_lightbox')),s=c.createElement('div'),a=o.ToolBar.el.getRootNode(),l=a.querySelector('#tf_base');s.id='tb_help_lightbox_root',s.className='tf_abs_t tf_w tf_h tf_hide',s.attachShadow({mode:'open'}).appendChild(e.content),s.shadowRoot.prepend(l.cloneNode(!0)),this.el=s.shadowRoot.tfId('lightbox'),this.el.tfOn(r.click,t=>{const e=t.target.closest('.nav,.player_btn,.tf_close,.menu');if(e){t.preventDefault(),t.stopPropagation();const s=e.classList;e.closest('.nav')?this.mainTabs(t):s.contains('player_btn')?this.play(t):s.contains('tf_close')?this.close(t):e.closest('.menu')&&'A'===t.target.tagName&&this.tabs(t)}else t.target===t.currentTarget&&this.close(t)}),e.replaceWith(s),s.classList.remove('tf_hide'),requestAnimationFrame(()=>{this.el.style.maxHeight='100%',this.el.classList.remove('tf_opacity')})}catch(t){await o.Spinner.showLoader('error')}o.Spinner.showLoader('spinhide')},play(t){const e=t.target.closest('a'),s=e.getAttribute('href'),a=c.createElement('iframe');a.className='tf_h tf_w tf_abs_t',a.setAttribute('frameborder','0'),a.setAttribute('allow','autoplay; fullscreen'),a.src=s+'?rel=0&showinfo=0&autoplay=1&enablejsapi=1&html5=1&version=3',e.replaceWith(a)},tabs(t){const e=t.target,s=this.el.tfClass('video_wrapper')[0],a=s.querySelector(e.getAttribute('href')),l=s.tfClass('current')[0],o=e.closest('li'),i=a.tfClass('player_btn')[0];l.classList.remove('current'),a.classList.add('current'),o.parentNode.tfClass('current')[0].classList.remove('current'),o.classList.add('current'),this.stopPlay(),i?r.triggerEvent(i,t.type):this.startPlay()},execute(t,e){t.contentWindow.postMessage('{"event":"command","func":"'+e+'","args":""}','*')},stopPlay(){for(let e=this.el.tfClass('player'),s=e.length-1;-1<s;--s)if(!e[s].classList.contains('current')){let t=e[s].querySelector('iframe');t&&this.execute(t,'pauseVideo')}},startPlay(){const t=this.el.querySelector('.player.current ');t&&this.execute(t,'playVideo')},close(t){this.el.tfOn('transitionend',t=>{this.el.getRootNode().host.remove(),this.el=null},{passive:!0,once:!0}).style.maxHeight=0,this.el.classList.add('tf_opacity')},mainTabs(t){if(!t.target.classList.contains('active')){const a=t.target.dataset.type;for(let e=t.target.parentNode.children,s=e.length-1;-1<s;--s){let t=e[s].dataset.type;this.el.classList.remove(t),e[s].classList.toggle('active',t===a)}this.el.classList.add(a)}}}})(tb_app,Themify,window.top,document);