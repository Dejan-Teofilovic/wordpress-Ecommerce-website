(n=>{'use strict';const u=ThemifyBuilderModuleJs.cssUrl+'feature_styles/',c={small:100,medium:150,large:200},a=new IntersectionObserver((e,s)=>{for(let t=e.length-1;-1<t;--t)!0===e[t].isIntersecting&&(s.unobserve(e[t].target),(t=>{const a=t.closest('.module-feature');if(a){const s=a.classList,o=(s.contains('layout-icon-left')?n.loadCss(u+'left','tb_feature_left'):s.contains('layout-icon-right')&&n.loadCss(u+'right','tb_feature_right'),t.tfClass('tb_feature_stroke')[0]),l=o?o.dataset.progress:null;if(l){s.contains('with-overlay-image')&&n.loadCss(u+'overlay','tb_feature_overlay');let e=0;if(s.contains('size-custom'))e=parseInt(t.style.width)||0;else for(let t in c)if(s.contains('size-'+t)){e=c[t];break}0===e&&(e=t.offsetWidth),e=parseFloat(e/2)-parseFloat(o.getAttribute('stroke-width')/2),o.setAttribute('stroke-dasharray',parseFloat(2*Math.PI*e*l/100)+',10000')}if(a.hasAttribute('data-layout-mobile')){const r=a.dataset.layoutMobile,i=a.dataset.layoutDesktop,e=t=>{const e=a.classList;if(t.w>tbLocalScript.breakpoints.mobile)e.remove('layout-'+r),e.add('layout-'+i);else{e.remove('layout-'+i),e.add('layout-'+r);const s=r.replace('icon-','');'top'!==s&&n.loadCss(u+s,'tb_feature_'+s)}};e({w:n.w}),n.on('tfsmartresize',e)}}})(e[t].target))},{threshold:.9});n.on('builder_load_module_partial',(t,e)=>{if(!0!==e||t.classList.contains('module-feature')){const s=n.selectWithParent('module-feature',t);for(let e=s.length-1;-1<e;--e){let t=s[e].tfClass('module-feature-chart-html5')[0];t&&a.observe(t)}}})})(Themify);