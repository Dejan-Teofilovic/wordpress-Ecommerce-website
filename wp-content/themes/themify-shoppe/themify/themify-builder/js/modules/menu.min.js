(($,m,u)=>{'use strict';const a=ThemifyBuilderModuleJs.cssUrl+'menu_styles/',s=u.createElement('div'),t=m.is_builder_active,l=()=>m.loadCss(a+'mobile'),n=(e,t)=>{const s=e.nextElementSibling.style;s.display='none'===s.display||''===s.display?'block':'none',t.classList.toggle('menu-close')},o=()=>{s.classList.remove('body-overlay-on'),u.body.classList.remove('menu-module-left','menu-module-right');const e=$('.mobile-menu-module.visible').removeClass('left right');setTimeout(()=>{e.removeClass('visible')},300)},i=(e,l,n)=>{for(let s=l.length-1;-1<s;--s){let e=parseInt(l[s].getAttribute('data-menu-breakpoint')),t=l[s].tfClass('nav')[0];if(l[s].classList.contains('dropdown')&&m.loadCss(a+'dropdown','tb_menu_dropdown'),t){t.classList.contains('transparent')&&m.loadCss(a+'transparent','tb_menu_transparent');let e=t.classList.contains('fullwidth')?'fullwidth':t.classList.contains('vertical')?'vertical':'';e&&(m.loadCss(a+e,'tb_menu_'+e),'vertical'!=e||l[s].tfClass('tf_acc_menu')[0]||m.loadCss(a+'accordion','tb_menu_accordion'))}0<e&&l[s].classList.toggle('module-menu-mobile-active',n<e),void 0===l[s].tfClass('tf_acc_menu')[0]&&setTimeout(()=>{m.edgeMenu(l[s])},1500)}if(!t)if(!1===e){let l=$('.menu-module-burger'),e=l.parent().data('menu-breakpoint'),t=l.parent().data('menu-style');'mobile-menu-dropdown'===t&&l.length&&n<e&&u.body.tfOn('click',e=>{const t=$(e.target),s=$('.module-menu-container');!t.closest('.module-menu-container').length&&s.is(':visible')&&!t.closest('.menu-module-burger').length&&l.is(':visible')&&(l.removeClass('is-open'),s.removeClass('is-open'))})}else o()};if(setTimeout(()=>{m.loadCss(a+'hidden')},800),m.on('builder_load_module_partial',(e,t)=>{if(!0!==t||e.classList.contains('module-menu')){const s=m.selectWithParent('module-menu',e);i(!1,s,m.w)}}),!t){const r=u.createElement('div'),d=u.createElement('link'),c=!0===m.is_min?'.min':'';let e=a+'mobile'+c+'.css?ver='+m.v;null!==m.urlArgs&&(e+=m.urlArgs),d.rel='prefetch',d.setAttribute('as','style'),d.href=e,r.className='themify_builder',s.classList.add('body-overlay'),r.appendChild(s),u.body.append(r,d),m.body.on('click','.menu-module-burger',function(e){e.preventDefault(),l().then(()=>{const a=$(this).parent(),o=a.data('menu-style');if('mobile-menu-dropdown'===o)$(this).toggleClass('is-open').siblings('.module-menu-container').toggleClass('is-open');else{const i=a.data('menu-direction'),d=a.data('element-id'),e=r.dataset.id,t=a[0].closest('.themify_builder_content').dataset.postid;e&&t===e||(e&&r.classList.remove('themify_builder_content-'+e),r.dataset.id=t,r.className+=' themify_builder_content-'+t);let n=$('div[data-module="'+d+'"]',r);if(!n.length){let e=a.data('gs'),t=a.find('div[class*="-container"] > ul').clone(),s=t.prop('class').replace(/nav|menu-bar|fullwidth|vertical|with-sub-arrow/g,''),l=a.prop('class').match(/menu-[\d\-]+/g);e=e?' '+e:'',l=l?l[0]:'',(n=$('<div/>')).addClass("mobile-menu-module  "+s+' '+l+' '+d+' '+o+e+' module-menu').attr('data-module',d).attr('data-dir',i).appendTo(r),(t=t.removeAttr('id').removeAttr('class').addClass('nav')).find('ul').length&&t.find('ul').prev('a').append('<i class="toggle-menu"></i>'),u.body.classList.add('menu-module-'+i),m.lazyScroll(t[0].querySelectorAll('[data-lazy]'),!0),n.html(t).prepend('<a class="menu-close" href="#"><span class="menu-close-inner tf_close"></span><span class="screen-reader-text">&times</span></a>')}n.addClass('visible'),setTimeout(()=>{n.addClass(i)},50),s.classList.add('body-overlay-on')}})}).on('click','.mobile-menu-module ul .toggle-menu',function(e){e.preventDefault(),e.stopPropagation(),l().then(()=>{n(this.closest('a'),this)})}).on('click','.mobile-menu-module ul a[href="#"]',function(e){e.preventDefault();const t=this.querySelector('.toggle-menu');null!==t&&l().then(()=>{n(this,t)})}).on('click','.themify_builder .body-overlay,.mobile-menu-module .menu-close,.mobile-menu-module .menu-item a',e=>{const t=e.target;t.classList.contains('toggle-menu')||'A'===t.tagName&&'#'===t.getAttribute('href')||((t.classList.contains('menu-close-inner')||t.parentNode.classList.contains('menu-close'))&&e.preventDefault(),l().then(o))})}m.on('tfsmartresize',e=>{e&&i(!0,u.querySelectorAll('.module-menu.module'),e.w)})})(jQuery,Themify,document);