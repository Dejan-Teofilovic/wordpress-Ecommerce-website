(($,h,i,u)=>{'use strict';let o=!1;const r=ThemifyBuilderModuleJs.cssUrl+'accordion_styles/',c=()=>{const e=u.location.hash.replace('#','');if(''!==e&&'#'!==e){const t=i.querySelector('.module-accordion [data-id="'+e+'"]');if(t){const a=i.querySelector('.accordion-title a[href="#'+e+'"]');a.click()}}};h.on('builder_load_module_partial',(e,t)=>{if(!0!==t||e.classList.contains('module-accordion')){const a=h.selectWithParent('module-accordion',e);for(let e=a.length-1;-1<e;--e)a[e].classList.contains('separate')&&h.loadCss(r+'separate','tb_accordion_separate'),a[e].classList.contains('transparent')&&h.loadCss(r+'transparent','tb_accordion_transparent');!1===o&&(o=!0,u.tfOn('hashchange',c,{passive:!0}),h.requestIdleCallback(()=>{i.body.tfOn('click',e=>{const t=e.target?e.target.closest('.accordion-title'):null;if(t){e.preventDefault(),e.stopPropagation();const a=$(t),i=a.next(),o=a.closest('li'),r=o.parent(),c=r[0].parentNode.hasAttribute('data-hashtag'),s=o.find('>.accordion-title .accordion-active-icon'),d=o.find('>.accordion-title .accordion-icon'),n=r.closest('.module-accordion[data-behavior]').data('behavior'),l=o.toggleClass('current').siblings().removeClass('current');if(r[0].classList.add('tf-init-accordion'),'accordion'===n&&(l.find('.accordion-content').slideUp().closest('li').removeClass('builder-accordion-active'),l.find('.accordion-title > a').attr('aria-expanded','false'),l.find('>.accordion-title .accordion-icon').removeClass('tf_hide').end().find('>.accordion-title .accordion-active-icon').addClass('tf_hide')),o.hasClass('builder-accordion-active'))s.addClass('tf_hide'),d.removeClass('tf_hide'),i.slideUp(),o.removeClass('builder-accordion-active').find('>.accordion-title > a').attr('aria-expanded','false'),i.attr('aria-hidden','true'),!0===c&&u.location.hash===e.target.closest('a').getAttribute('href')&&u.history.pushState('','',u.location.pathname);else{s.removeClass('tf_hide'),d.addClass('tf_hide'),o.addClass('builder-accordion-active'),i.slideDown(),o.find('>.accordion-title > a').attr('aria-expanded','true'),i.attr('aria-hidden','false');const f=!!i.hasClass('default-closed')&&i.find('.themify_map');if(f)for(let e=f.length-1;-1<e;--e){let t=$(f[e]).data('gmap_object');if(void 0===t.already_centered||t.already_centered||(t.already_centered=!1),!t.already_centered){let e=t.getCenter();google.maps.event.trigger(t,'resize'),t.setCenter(e),t.already_centered=!0}}!0===c&&u.history.pushState(null,null,e.target.closest('a').getAttribute('href'))}h.trigger('tb_accordion_switch',[i]),$(u).triggerHandler('resize')}}),c()},-1,500))}})})(jQuery,Themify,document,window);