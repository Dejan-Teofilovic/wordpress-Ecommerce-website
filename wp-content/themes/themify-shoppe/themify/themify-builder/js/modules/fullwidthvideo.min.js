((s,d)=>{'use strict';const m='mobile'===s.device,w=t=>({mute:'unmute'!==t.dataset.mutevideo,loop:'unloop'!==t.dataset.unloopvideo}),y=(t,e,o,a)=>{const i=d.createElement('div'),l=d.createElement('iframe');return i.className='tb_fullwidth_video tf_lazy tb_'+o+' tf_abs tf_w tf_h tf_overflow',l.setAttribute('allowfullscreen',!1),l.setAttribute('webkitallowfullscreen',!1),l.setAttribute('mozallowfullscreen',!1),l.className='tf_mw tf_w tf_h',l.id=t,l.src=encodeURI(e),a&&(l.dataset.autoplay=!0,l.setAttribute('allow','autoplay')),l.setAttribute('unselectable','on'),i.appendChild(l),i},n=async e=>{if(e.paused)try{await e.play()}catch(t){if(e.muted)throw t;e.muted=!0,await e.play()}};s.on('builder_load_module_partial',(t,e)=>{let l;if(!0===e){if(!t.hasAttribute('data-tbfullwidthvideo'))return;l=[t]}else l=s.selectWithParent('[data-tbfullwidthvideo]',t);void 0!==l[0]&&s.loadCss(ThemifyBuilderModuleJs.cssUrl+'fullwidthvideo','tb_fullwidth_video').then(()=>{for(let i=l.length-1;-1<i;--i){let a=l[i].dataset.tbfullwidthvideo;if(a){let t=s.parseVideo(a),e=l[i].tfClass('tb_fullwidth_video')[0],o;e&&e.parentNode===l[i]&&l[i].removeChild(e),(o='youtube'===t.type?((i,l,s)=>{if(0==m&&s){s=s.toString();const d=w(i),n=new URL(l),r='tb_ytb_'+s;let t='https://www.youtube-nocookie.com/embed/'+s+'?modestbranding=1&playsinline=1&controls=0&showinfo=0&rel=0&disablekb&fs=0&version=3&allowfullscreen=false&wmode=transparent&iv_load_policy=3&playerapiid='+r+'&playlist='+s,e=640,o=360,a=!1;if(d.loop&&(t+='&loop=1'),!1!==d.autoplay&&(t+='&autoplay=1',d.mute=!0,a=!0),!0===d.mute&&(t+='&mute=1'),n){const h=n.searchParams.get('t'),c=n.searchParams.get('w'),f=n.searchParams.get('h');h&&(t+='&start='+parseInt(h)),c&&(e=c),f&&(o=f)}const p=y(r,t,'ytb',a),u=p.firstChild;return u.style.minHeight=100*parseFloat(o/e)+'vw',u.tfOn('load',function(){this.parentNode.classList.remove('tf_lazy')},{passive:!0,once:!0}).style.minWidth=100*parseFloat(e/o)+'vh',p}})(l[i],a,t.id):'vimeo'===t.type?((t,e,o)=>{const a=w(t),l='tb_vimeo_'+o,i=new URL(e);let s='https://player.vimeo.com/video/'+o+'?api=1&byline=0&autopause=0&portrait=0&title=0&badge=0&controls=0&playsinline=1&callback=tb_vimeo&player_id='+l,d=!1;a.loop&&(s+='&loop=1'),!1!==a.autoplay&&(s+='&autoplay=1',a.mute=!0,d=!0),!0===a.mute&&(s+='&muted=1'),i.hash&&0===i.hash.indexOf('#t=')&&(s+=i.hash);const n=y(l,s,'vimeo',d),r=n.firstChild,p=t=>{if(-1!==t.origin.indexOf('player.vimeo.com')&&r&&r.contentWindow){const e=JSON.parse(t.data);if(l===e.player_id)if('ready'===e.event){const o='https://player.vimeo.com';r.contentWindow.postMessage(JSON.stringify({method:'getVideoWidth'}),o),r.contentWindow.postMessage(JSON.stringify({method:'getVideoHeight'}),o)}else if('getVideoWidth'===e.method||'getVideoHeight'===e.method){'getVideoWidth'===e.method?r.width=e.value:r.height=e.value;const a=r.width,i=r.height;i&&a&&(window.tfOff('message',p,{passive:!0}),r.style.minHeight=100*parseFloat(i/a)+'vw',r.style.minWidth=100*parseFloat(a/i)+'vh',r.parentNode.classList.remove('tf_lazy'))}}};return window.tfOn('message',p,{passive:!0}),n})(l[i],a,t.id):((t,e)=>{if(0==m||'play'===t.dataset.playonmobile){const o=1==m?{loop:'unloop'!==t.dataset.unloopvideo,mute:!0}:w(t),a=d.createElement('div'),i=d.createElement('video');return a.className='tb_fullwidth_video tb_local_video tf_abs tf_w tf_h',i.className='tf_w tf_h',i.setAttribute('type','video/'+e.split('.').pop().split('?')[0]),i.preload='auto',i.setAttribute('webkit-playsinline',1),i.setAttribute('playsinline',!0),i.src=e,!1!==o.autoplay&&'no'!==t.dataset.autoplay&&(o.mute=i.autoplay=!0,setTimeout(async()=>{try{if(await n(i),i.paused)throw''}catch(t){i.classList.add('tb_fullwidth_lowpower'),d.body.tfOn(s.click,e=>{const o=d.tfClass('tb_fullwidth_lowpower');for(let t=o.length-1;-1<t;--t)try{n(o[t])}catch(e){}},{passive:!0,once:!0})}},50)),!0!==o.mute&&'desktop'===s.device||(i.muted=!0),!0===o.loop&&(i.loop=!0),a.appendChild(i),a}})(l[i],a))&&(l[i].prepend(o),s.trigger('tb_fullwidth_video_added',[l[i]]))}}})})})(Themify,document);