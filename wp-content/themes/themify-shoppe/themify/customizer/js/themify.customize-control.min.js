!function(e,$){'use strict';function h(i){try{i=JSON.parse(i)}catch(e){i={}}return i}var t,i=document.createElement('script'),n=document.getElementsByTagName('script')[0],a=(i.src=('https:'==document.location.protocol?'https':'http')+'://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js',i.type='text/javascript',i.async='true',n.parentNode.insertBefore(i,n),wp.customize),o=!0;window.onbeforeunload=function(){if(!wp.customize.state('saved')())return themifyCustomizerControls.confirm_on_unload},a.bind('pane-contents-reflowed',function(){$('.themify-subaccordion').each(function(){var e,i=$(this),t=i.data('accordion'),n=$('.'+t+'-group');n.is('#customize-control-customcss_ctrl')?(t=n.find('.CodeMirror-scroll').scrollTop(),e=n.find('.CodeMirror').get(0),n.appendTo(i),void 0!==e&&'CodeMirror'in e&&(e.CodeMirror.focus(),e.CodeMirror.scrollTo(0,t))):n.appendTo(i),$(n.get().reverse()).each(function(){var e;0===$(this).children('.themify-control-title').length&&(e=function e(i){i=i.prev('li');return 0<i.length&&0===i.children('.themify-control-title').length?e(i):i.index()}($(this)),$(this).appendTo(n.eq(e).children('.themify-control-sub-accordeon').first()))})}),$('li[id*="nav_menu_locations"]').each(function(){$(this).appendTo($(this).prev().find('.themify-subaccordion'))}),o&&($('#accordion-section-themify_options:visible').find('.accordion-section-title').trigger('click'),$('.themify-suba-toggle.themify-control-title').off('click').on('click',function(e){e.preventDefault();e=$(this).closest('li').find('.themify-control-sub-accordeon');$(this).hasClass('topen')?($(this).removeClass('topen'),e.slideUp()):($(this).addClass('topen'),e.slideDown())}),$('.themify-control-sub-accordeon').hide(),$('body').on('mouseover','.devices [data-device]',function(e){var i=''+$(this).data('device').replace('_',' ');$(this).append('<span class="themify_customize_tooltip">'+i+'</span>')}).on('mouseout','.devices [data-device]',function(e){$(this).children('.themify_customize_tooltip').remove()}),$.event.trigger("themify_customizer_ready"),o=!1)}),a.ThemifySubAccordion=a.Control.extend({ready(){var e=$('.themify-suba-toggle',this.container),i=e.next(),e=($('.customize-control.customize-control-themify_subaccordion_end').remove(),e.on('click',function(e){e.preventDefault(),$(this).parent().toggleClass('topen'),i.toggleClass('tpanelopen'),i.hasClass('tpanelopen')?i.slideDown():i.slideUp()}),$('select[data-customize-setting-link^="nav_menu_locations"]',this.container));e.closest('label').map(function(){$(this).replaceWith($(this).contents())}),e.wrap('<div class="themify-customizer-brick" />').wrap('<div class="custom-select nav-menu-select" />')}}),a.controlConstructor.themify_subaccordion_start=a.ThemifySubAccordion,a.ThemifyControl=a.Control.extend({value:{},field:'',openMedia(){var a=this,r=$(a.field,a.container),l='';$('.open-media',a.container).on('click',function(e){e.preventDefault(),(l=wp.media.frames.file_frame=wp.media({title:$(this).data('uploader-title'),library:{type:['image']},button:{text:$(this).data('uploader-button-text')},multiple:!1})).on('select',function(){var e=l.state().get('selection').first().toJSON(),i=$('<a href="#" class="remove-image tf_close"></a><img src="'+e.url+'" />').css('display','inline-block'),t=$('.themify_control_preview',a.container),n=$('a',t),o=$('img',t);a.isResponsiveStyling()?(_.isUndefined(a.value[a.id][a.getCurrentDevice()])&&(a.value[a.id][a.getCurrentDevice()]={}),a.value[a.id][a.getCurrentDevice()].id=e.id,a.value[a.id][a.getCurrentDevice()].src=e.url):(a.value[a.id].id=e.id,a.value[a.id].src=e.url),r.val(JSON.stringify(a.value[a.id])).trigger('change'),0<n.length&&n.remove(),0<o.length&&o.remove(),t.append(i).fadeIn()}),l.open()}),$('.open-media-wrap',a.container).on('click','.remove-image',function(e){e.preventDefault(),a.isResponsiveStyling()?(_.isUndefined(a.value[a.id][a.getCurrentDevice()])&&(a.value[a.id][a.getCurrentDevice()]={}),a.value[a.id][a.getCurrentDevice()].id='',a.value[a.id][a.getCurrentDevice()].src=''):(a.value[a.id].id='',a.value[a.id].src=''),r.val(JSON.stringify(a.value[a.id])).trigger('change'),$(this).next().remove(),$(this).remove()})},pickColor(){const t=this,n=$(t.field,t.container),i=$('.color-select',t.container),o=$('.remove-color',t.container);let a=0;i.tfminicolors({defaultValue:'',letterCase:'lowercase',opacity:!0,swatches:themifyColorManager.toColorsArray(),show(){themifyColorManager.initColorPicker(this);const e=$(this);e.closest('li').is(':last-child')&&e.closest('.color-picker').addClass('color-picker-visible')},change(e,i){'headerwrap_background_ctrl'===t.id&&themifyCustomizerControls.header_transparnet&&a<1&&(alert(themifyCustomizerControls.header_transparnet),a++),t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()].color=e.replace('#',''),t.value[t.id][t.getCurrentDevice()].opacity=i):(t.value[t.id].color=e.replace('#',''),t.value[t.id].opacity=i),n.val(JSON.stringify(t.value[t.id])).trigger('change'),o.show()},hide(){''!=$(this).val()&&(t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()].color=$(this).val().replace('#','')):t.value[t.id].color=$(this).val().replace('#',''),n.val(JSON.stringify(t.value[t.id])).trigger('change'),o.show());const e=$(this);e.closest('li').is(':last-child')&&e.closest('.color-picker').removeClass('color-picker-visible')}}),o.on('click',function(e){e.preventDefault(),t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()]=_.omit(t.value[t.id][t.getCurrentDevice()],'color'),t.value[t.id][t.getCurrentDevice()]=_.omit(t.value[t.id][t.getCurrentDevice()],'opacity')):(t.value[t.id]=_.omit(t.value[t.id],'color'),t.value[t.id]=_.omit(t.value[t.id],'opacity')),n.val(JSON.stringify(t.value[t.id])).trigger('change'),i.tfminicolors('value',''),i.tfminicolors('opacity',''),o.hide()})},pickBorderColor(){const n=this,o=$(n.field,n.container),e=$('.color-select',n.container),i=$('.remove-color',n.container),a=$('.same',n.container);e.tfminicolors({defaultValue:'',letterCase:'lowercase',opacity:!0,swatches:themifyColorManager.toColorsArray(),change(e,i){var t=$(this).data('side'),e=e.replace('#','');a.prop('checked')?n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()].color=e,n.value[n.id][n.getCurrentDevice()].opacity=i,n.value[n.id][n.getCurrentDevice()].same='same'):(n.value[n.id].color=e,n.value[n.id].opacity=i,n.value[n.id].same='same'):n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()][t]=_.extend({},n.value[n.id][n.getCurrentDevice()][t],{color:e,opacity:i}),'top'===t&&(n.value[n.id][n.getCurrentDevice()].color=e,n.value[n.id][n.getCurrentDevice()].opacity=i),n.value[n.id][n.getCurrentDevice()].same=''):(n.value[n.id][t]=_.extend({},n.value[n.id][t],{color:e,opacity:i}),'top'===t&&(n.value[n.id].color=e,n.value[n.id].opacity=i),n.value[n.id].same=''),n.setting.set('{}',{silent:!0}),o.val(JSON.stringify(n.value[n.id])).trigger('change'),$(this).parent().next().show()},hide(){var e,i;$(this).val()&&(i=$(this).val(),e=$(this).data('side'),i=i.replace('#',''),a.prop('checked')?n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()].color=i,n.value[n.id][n.getCurrentDevice()].same='same'):(n.value[n.id].color=i,n.value[n.id].same='same'):n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()][e]=_.extend({},n.value[n.id][n.getCurrentDevice()][e],{color:i}),'top'===e&&(n.value[n.id][n.getCurrentDevice()].color=i),n.value[n.id][n.getCurrentDevice()].same=''):(n.value[n.id][e]=_.extend({},n.value[n.id][e],{color:i}),'top'===e&&(n.value[n.id].color=i),n.value[n.id].same=''),o.val(JSON.stringify(n.value[n.id])).trigger('change'),$(this).parent().next().show())},show(){themifyColorManager.initColorPicker(this)}}),i.on('click',function(e){e.preventDefault();const i=$(this).data('side'),t=(a.prop('checked')?n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()]=_.omit(n.value[n.id][n.getCurrentDevice()],['color','opacity']),n.value[n.id][n.getCurrentDevice()].same='same'):(n.value[n.id].color='',n.value[n.id].opacity='',n.value[n.id].same='same'):n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()][i]=_.extend({},n.value[n.id][n.getCurrentDevice()][i],{color:'',opacity:''}),'top'===i&&(n.value[n.id][n.getCurrentDevice()]=_.omit(n.value[n.id][n.getCurrentDevice()],['color','opacity'])),n.value[n.id][n.getCurrentDevice()].same=''):(n.value[n.id][i]=_.extend({},n.value[n.id][i],{color:'',opacity:''}),'top'===i&&(n.value[n.id].color='',n.value[n.id].opacity=''),n.value[n.id].same=''),o.val(JSON.stringify(n.value[n.id])).trigger('change'),$(this).siblings('.tfminicolors').children('.color-select'));t.tfminicolors('value',''),t.tfminicolors('opacity',''),$(this).hide()})},transparent(e){const i=this,t=$(i.field,i.container);e.on('click',function(){const e=$(this);e.prop('checked')?(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].transparent='transparent'):i.value[i.id].transparent='transparent',e.parent().prev().addClass('transparent')):(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].transparent=''):i.value[i.id].transparent='',e.parent().prev().removeClass('transparent')),t.val(JSON.stringify(i.value[i.id])).trigger('change')}),e.prop('checked')&&e.parent().prev().addClass('transparent')},dropdown(e,n){const o=this,a=$(o.field,o.container);e.on('change',function(){const e=o.value[o.id],i=o.getCurrentDevice(),t=$('option:selected',$(this)).val();o.isResponsiveStyling()?(_.isUndefined(e[i])&&(e[i]={}),e[i][n]=t):e[n]=t,a.val(JSON.stringify(e)).trigger('change')})},collapse(e){const t=this,n=$(t.field,t.container);e.on('click',function(){const e=$(this);if(e.prop('checked'))t.value[t.id].disabled='disabled',e.parent().siblings('.themify-customizer-brick').stop().slideUp();else{t.value[t.id].disabled='';const i=e.parent().parent().find('input[type="checkbox"].same');(0<i.length&&i.prop('checked')?e.parent().siblings('.useforall, .collapse-same'):e.parent().siblings('.themify-customizer-brick')).stop().slideDown()}n.val(JSON.stringify(t.value[t.id])).trigger('change')}),e.prop('checked')&&e.parent().siblings('.themify-customizer-brick').hide()},input(e,i){const t=this,n=$(t.field,t.container);e.on('keyup',function(){t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()][i]=$(this).val()):t.value[t.id][i]=$(this).val(),n.val(JSON.stringify(t.value[t.id])).trigger('change')})},dimension(e){const n=this,o=$(n.field,n.container);e.on('keyup',function(){const e=n.value[n.id],i=n.getCurrentDevice(),t=$(this).val();n.isResponsiveStyling()?(_.isUndefined(e[i])&&(e[i]={}),e[i].width=t):e.width=t,o.val(JSON.stringify(e)).trigger('change')})},dimensionSame(e){const t=this,n=$(t.field,t.container),o=$('.same',t.container);e.on('keyup',function(){const e=$(this).data('side'),i=$(this).val();o.prop('checked')?t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()].width=i,t.value[t.id][t.getCurrentDevice()].same='same'):(t.value[t.id].width=i,t.value[t.id].same='same'):t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()][e]=_.extend({},t.value[t.id][t.getCurrentDevice()][e],{width:i}),'top'===e&&(t.value[t.id][t.getCurrentDevice()].width=i),t.value[t.id][t.getCurrentDevice()].same=''):(t.value[t.id][e]=_.extend({},t.value[t.id][e],{width:i}),'top'===e&&(t.value[t.id].width=i),t.value[t.id].same=''),n.val(JSON.stringify(t.value[t.id])).trigger('change')})},auto(e){const o=this,a=$(o.field,o.container),r=$(o.container).find('.'+e.data('hide'));e.on('click',function(){const e=$(this),i=o.value[o.id],t=o.getCurrentDevice(),n=e.prop('checked')?'auto':'';o.isResponsiveStyling()?(_.isUndefined(i[t])&&(i[t]={}),i[t].auto=n):i.auto=n,r.stop().toggleClass('hide-horizontally',n),a.val(JSON.stringify(i)).trigger('change')}),e.prop('checked')&&r.addClass('hide-horizontally')},autoSame(e){const o=this,a=$(o.field,o.container),r=$('.same',o.container);e.on('click',function(){const e=$(this),i=e.data('hide'),t=$(this).data('side'),n={};r.prop('checked')?(e.prop('checked')?(n.auto='auto',o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()].auto='auto',o.value[o.id][o.getCurrentDevice()].top=_.extend({},o.value[o.id][o.getCurrentDevice()].top,n)):(o.value[o.id].auto='auto',o.value[o.id].top=_.extend({},o.value[o.id].top,n)),$(o.container).find('.'+i).stop().addClass('hide-horizontally')):(n.auto='',o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()].auto='',o.value[o.id][o.getCurrentDevice()].top=_.extend({},o.value[o.id][o.getCurrentDevice()].top,n)):(o.value[o.id].auto='',o.value[o.id].top=_.extend({},o.value[o.id].top,n)),$(o.container).find('.'+i).stop().removeClass('hide-horizontally')),o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()].same='same'):o.value[o.id].same='same'):(e.prop('checked')?(n.auto='auto',o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()][t]=_.extend({},o.value[o.id][o.getCurrentDevice()][t],n),'top'===t&&(o.value[o.id][o.getCurrentDevice()].auto='auto')):(o.value[o.id][t]=_.extend({},o.value[o.id][t],n),'top'===t&&(o.value[o.id].auto='auto')),$(o.container).find('.'+i).stop().addClass('hide-horizontally')):(n.auto='',o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()][t]=_.extend({},o.value[o.id][o.getCurrentDevice()][t],n),'top'===t&&(o.value[o.id][o.getCurrentDevice()].auto='')):(o.value[o.id][t]=_.extend({},o.value[o.id][t],n),'top'===t&&(o.value[o.id].auto='')),$(o.container).find('.'+i).stop().removeClass('hide-horizontally')),o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()].same=''):o.value[o.id].same=''),a.val(JSON.stringify(o.value[o.id])).trigger('change')}),e.each(function(){let e=$(this);e.prop('checked')&&$(o.container).find('.'+e.data('hide')).addClass('hide-horizontally')})},dropdownSame(e,n){const o=this,a=$(o.field,o.container),r=$('.same',o.container);e.on('change',function(){const e=$(this).data('side'),i=$('option:selected',$(this)).val();if(r.prop('checked'))o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()][n]=i,o.value[o.id][o.getCurrentDevice()].same='same'):(o.value[o.id][n]=i,o.value[o.id].same='same');else{const t={};t[n]=i,o.isResponsiveStyling()?(_.isUndefined(o.value[o.id][o.getCurrentDevice()])&&(o.value[o.id][o.getCurrentDevice()]={}),o.value[o.id][o.getCurrentDevice()][e]=_.extend({},o.value[o.id][o.getCurrentDevice()][e],t),'top'===e&&(o.value[o.id][o.getCurrentDevice()][n]=i),o.value[o.id][o.getCurrentDevice()].same=''):(o.value[o.id][e]=_.extend({},o.value[o.id][e],t),'top'===e&&(o.value[o.id][n]=i),o.value[o.id].same='')}a.val(JSON.stringify(o.value[o.id])).trigger('change')})},dropdownBorderSame(e){const n=this,o=$(n.field,n.container),a=$('.same',n.container);e.on('change',function(){const e=$(this),i=e.data('side'),t=$('option:selected',e).val();a.prop('checked')?n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()].style=t,n.value[n.id][n.getCurrentDevice()].same='same'):(n.value[n.id].style=t,n.value[n.id].same='same'):n.isResponsiveStyling()?(_.isUndefined(n.value[n.id][n.getCurrentDevice()])&&(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()][i]=_.extend({},n.value[n.id][n.getCurrentDevice()][i],{style:t}),'top'===i&&(n.value[n.id][n.getCurrentDevice()].style=t),n.value[n.id][n.getCurrentDevice()].same=''):(n.value[n.id][i]=_.extend({},n.value[n.id][i],{style:t}),'top'===i&&(n.value[n.id].style=t),n.value[n.id].same=''),o.val(JSON.stringify(n.value[n.id])).trigger('change'),'none'===t?e.parent().siblings('.color-picker, .border-width, .dimension-unit-label').hide():e.parent().siblings('.color-picker, .border-width, .dimension-unit-label').show()}),e.each(function(){let e=$(this);'none'===$('option:selected',e).val()?e.parent().siblings('.color-picker, .border-width, .dimension-unit-label').hide():e.parent().siblings('.color-picker, .border-width, .dimension-unit-label').show()})},hideComponentsSame(e){const i=this,t=$(i.field,i.container),n=$('.component',i.container),o=$('.dimension-row-label:not(.same-label)',i.container),a=e.parent().parent().find('.same-label');e.on('click',function(){const e=$(this);e.prop('checked')?(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].same='same'):i.value[i.id].same='same',n.stop().slideUp(),o.hide(),a.text(a.data('same'))):(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].same=''):i.value[i.id].same='',n.stop().slideDown(),o.show(),a.text(a.data('notsame'))),t.val(JSON.stringify(i.value[i.id])).trigger('change')}),e.prop('checked')&&(n.hide(),o.hide(),a.text(a.data('same')))},getSelectedData(e,i,t){const n=$('.selected',e).data(i);return n||t},fontStyle(i){const t=this,n=$(t.field,t.container);$('.button',i).on('click',function(){const e=$(this).data('style');$('underline'===e?'.button.selected[data-style="linethrough"]':'linethrough'===e?'.button.selected[data-style="underline"]':'italic'===e?'.button.selected[data-style="normal"]':'normal'===e?'.button.selected[data-style="italic"]':'nostyle'===e?'.button:not([data-style="nostyle"])':'.button[data-style="nostyle"]',i).removeClass('selected'),$(this).toggleClass('selected'),t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),$('.button',i).each(function(){t.value[t.id][t.getCurrentDevice()][$(this).data('style')]=$(this).hasClass('selected')?$(this).data('style'):''})):$('.button',i).each(function(){t.value[t.id][$(this).data('style')]=$(this).hasClass('selected')?$(this).data('style'):''}),n.val(JSON.stringify(t.value[t.id])).trigger('change')})},textTransform(i){const t=this,n=$(t.field,t.container);$('.button',i).on('click',function(){const e=$(this).data('texttransform');$('.button',i).not(this).removeClass('selected'),$(this).toggleClass('selected'),$('notexttransform'===e?'.button:not([data-texttransform="notexttransform"])':'.button[data-texttransform="notexttransform"]',i).removeClass('selected'),t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()].texttransform=t.getSelectedData(i,'texttransform')):t.value[t.id].texttransform=t.getSelectedData(i,'texttransform'),n.val(JSON.stringify(t.value[t.id])).trigger('change')})},textAlign(i){const t=this,n=$(t.field,t.container);$('.button',i).on('click',function(){const e=$(this).data('align');$('.button',i).not(this).removeClass('selected'),$(this).toggleClass('selected'),$('noalign'===e?'.button:not([data-align="noalign"])':'.button[data-align="noalign"]',i).removeClass('selected'),t.isResponsiveStyling()?(_.isUndefined(t.value[t.id][t.getCurrentDevice()])&&(t.value[t.id][t.getCurrentDevice()]={}),t.value[t.id][t.getCurrentDevice()].align=t.getSelectedData(i,'align')):t.value[t.id].align=t.getSelectedData(i,'align'),n.val(JSON.stringify(t.value[t.id])).trigger('change')})},fontFamily(e){const v=this,n=$(v.field,v.container);e.on({change(){var e,i=$(this).closest('li').find('.font_weight_select'),t=0<i.length&&$(this).find('option:selected').data('variants');v.isResponsiveStyling()?(_.isUndefined(v.value[v.id][v.getCurrentDevice()])&&(v.value[v.id][v.getCurrentDevice()]={}),v.value[v.id][v.getCurrentDevice()].family=h($('option:selected',$(this)).val())):v.value[v.id].family=h($('option:selected',$(this)).val()),t?(i.closest('.themify-customizer-brick').show(),t=$.trim(t).split(','),i.find('option').each(function(){-1===$.inArray($(this).val(),t)?$(this).hide():$(this).show()}),(e=i.find('option:selected')).is(':visible')||(e.prop('selected',!1),i.find('option').each(function(){if('none'!=$(this).css('display'))return $(this).prop("selected",!0).trigger('change'),!1}))):'string'==typeof t?i.val('').find('option').hide().closest('.themify-customizer-brick').hide():i.find('option').show().closest('.themify-customizer-brick').show(),n.val(JSON.stringify(v.value[v.id])).trigger('change'),$('#themify_font_preview').hide()},focusin(){var e=$(this).data('selected');if(0<$('.themify_add_fonts').length){var i=$('.themify_add_fonts').html(),t=$(i);t.find('option').removeAttr('selected'),e&&t.find('option[data-value="'+e+'"]').attr('selected','selected'),$(this).html(t)}else{$('body').append('<span id="themify_font_preview"><span class="themify_font_wait"></span>Font Preview</span>');var n=(t=h(decodeURI($('#themify_fonts_hidden').val()))).cf,o=t.google,a=t.fonts,i='';if(0<n.length){for(var r in n){var l=n[r].name,s=n[r].value,c='{"fonttype":"cf","name":"'+s+'"}',d=e&&e==s?'selected="selected"':'';l=v.escapeHtml(l),i+="<option data-variants='"+n[r].variants+"' data-value='"+s+"' class='cf_font' "+d+"  value='"+c+"'>"+l+"</option>"}n=null,$(this).children('optgroup').first().html(i),i=''}for(r in a)l=a[r].value,i+="<option "+(d=e&&e==l?'selected="selected"':'')+" data-value='"+(l=v.escapeHtml(l))+"' value='"+(c='{"fonttype":"websafe","name":"'+l+'"}')+"'>"+a[r].name+"</option>";for(r in a=null,$(this).children('optgroup.themify_wsf_optgroup').html(i),i='',o){var l=o[r].name,d=e&&e==l?'selected="selected"':'',c='{"fonttype":"google"';c+=',"name":"'+(l=v.escapeHtml(l))+'"}',i+="<option data-variants='"+o[r].variants+"' data-value='"+l+"' class='google_font' "+d+"  value='"+c+"'>"+o[r].name+"</option>"}o=null,$(this).children('optgroup').last().html(i),$(this).addClass('themify_add_fonts'),$('#themify_fonts_hidden').remove(),v.fontHover()}const u=$(this);u.off('focusin').scombobox({wrap:!0,reassignId:!1,empty:!e,showDropDown:!0,beforeClose(){$('#themify_font_preview').hide()},afterClose(){var e=u.closest('.scombobox').find('.scombobox-display');$.trim(e.val())||u.data('selected','').find('option:selected').prop('selected',!1).trigger('change'),$('#themify_font_preview').is(':visible')&&!u.find('.scombobox-list').is(':visible')&&$('#themify_font_preview').hide()}})}})},escapeHtml(e){const i={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'};return e.replace(/[&<>"']/g,function(e){return i[e]})},fontHover(){$('.themify_combobox').delegate('.scombobox-list p','mouseover',function(e){e.stopImmediatePropagation();var i,o=$('#themify_font_preview');$(this).data('value')&&$(this).is(':visible')?(e=h($(this).data('value')),i=$(this).offset(),o.css({top:i.top-7,left:i.left+260}),'google'!==e.fonttype&&'cf'!==e.fonttype||$(this).hasClass('themify_font_loaded')?o.css('font-family',e.name).removeClass('themify_show_wait').show():($('.themify_combobox .scombobox-list p').removeClass('current'),$(this).addClass('current'),o.addClass('themify_show_wait'),setTimeout(function(){var e,i,t,n=$('.themify_combobox p.current');n.closest('.scombobox-list').is(':visible')?(e=h(n.data('value')),i=n.offset(),t={fontloading(e,i){o.css('font-family',e).removeClass('themify_show_wait'),n.addClass('themify_font_loaded')}},o.css({top:i.top-7,left:i.left+260}).show(),'google'===e.fonttype?t.google={families:[e.name]}:t.custom={families:[e.name],urls:[themifyCustomizerControls.cf_api_url+e.name]},WebFont.load(t)):o.hide()},800))):o.hide()})},inputOption(e,i){const t=this,n=$(t.field,t.container);let o;e.on('keyup',function(){const e=$(this).val();'blogname'===i&&$('.customize-control-themify_logo').find('.site-name').each(function(){$(this).val(e)}),clearTimeout(o),o=setTimeout(function(){$.post(ajaxurl,{action:'themify_customizer_save_option',option:i,value:e,nonce:themifyCustomizerControls.nonce},function(e){'saved'===e&&(t.value[t.id]||(t.value[t.id]={}),t.value[t.id].stamp=(new Date).getTime(),n.val(JSON.stringify(t.value[t.id])).trigger('change'))})},750)})},saveOption(e,i){const t=this;$.post(ajaxurl,{action:'themify_customizer_save_option',option:e,value:i,nonce:themifyCustomizerControls.nonce},function(e){'saved'===e&&t.saveOptionCallback()})},saveOptionCallback(){},changeMode(i){const t=this,n=$(t.field,t.container);$(i+'-mode',t.container).each(function(){$(this).on('click',function(){var e=$(this);$(i+'-mode-wrap',t.container).hide(),$(i+'-'+e.val()+'-mode',t.container).show(),t.value[t.id]||(t.value[t.id]={}),t.value[t.id].mode=e.val(),n.val(JSON.stringify(t.value[t.id])).trigger('change')})}),$(i+'-mode-wrap',t.container).hide(),$(i+'-'+$('input[type="radio"]'+i+'-mode:checked').val()+'-mode',t.container).show()},addQueryArg(e,i,t){return Themify.updateQueryString(e,i,t)},getParameterByName(e,i){i=i||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");const t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),n=t.exec(i);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):'':null},isResponsiveStyling(){return'desktop'!==a.previewedDevice.get()},getCurrentDevice(){return a.previewedDevice.get()},radioChange(i,t){const n=this,o=$(n.field,n.container),e=i.find('input[type="radio"]:checked').val();i.find('input[type="radio"]').on('click',function(){let e=$(this).val();n.value[n.id]||(n.value[n.id]={}),n.isResponsiveStyling()?(n.value[n.id][n.getCurrentDevice()]||(n.value[n.id][n.getCurrentDevice()]={}),n.value[n.id][n.getCurrentDevice()][t]=e):(n.value[n.id][t]=e,i.closest('.customize-control').data('deskValue',e)),i.nextAll('[class*="-mode-wrap"]').hide(),i.nextAll('[class*="-'+e+'-mode"]').show(),o.val(JSON.stringify(n.value[n.id])).trigger('change')}),i.nextAll('[class*="-mode-wrap"]').hide(),i.nextAll('[class*="-'+e+'-mode"]').show()}}),a.ThemifyFont=a.ThemifyControl.extend({field:'.themify_font_control',ready(){const e=this,i=$(e.field,e.container);e.value||(e.value={}),e.value[e.id]=i.val()?h(i.val()):{},e.collapse($('.disable-control',e.container)),e.fontFamily($('.themify_font_family',e.container)),e.input($('.font_size_num',e.container),'sizenum'),e.dropdown($('.font_size_unit',e.container),'sizeunit'),e.input($('.letter_spacing',e.container),'letterspacing'),e.dropdown($('.letter_spacing_unit',e.container),'letterspacingunit'),e.input($('.font_line_num',e.container),'linenum'),e.dropdown($('.font_line_unit',e.container),'lineunit'),e.dropdown($('.font_weight_select',e.container),'weight'),e.fontStyle($('.themify_font_style',e.container)),e.textTransform($('.themify_text_transform',e.container)),e.textAlign($('.themify_font_align',e.container))}}),a.controlConstructor.themify_font=a.ThemifyFont,a.controlConstructor.themify_text_decoration=a.ThemifyFont,a.ThemifyLogo=a.ThemifyControl.extend({field:'.themify_logo_control',ready(){const e=this,i=$(e.field,e.container);e.value||(e.value={}),e.value[e.id]=i.val()?h(i.val()):{},e.inputOption($('.site-name',e.container),'blogname'),e.input($('.site-link',e.container),'link'),e.openMedia(),e.input($('.img-width',e.container),'imgwidth'),e.input($('.img-height',e.container),'imgheight'),e.collapse($('.disable-control',e.container)),e.fontFamily($('.themify_font_family',e.container)),e.input($('.font_size_num',e.container),'sizenum'),e.dropdown($('.font_size_unit',e.container),'sizeunit'),e.input($('.font_line_num',e.container),'linenum'),e.dropdown($('.font_line_unit',e.container),'lineunit'),e.input($('.letter_spacing',e.container),'letterspacing'),e.dropdown($('.letter_spacing_unit',e.container),'letterspacingunit'),e.dropdown($('.font_weight_select',e.container),'weight'),e.fontStyle($('.themify_font_style',e.container)),e.textTransform($('.themify_text_transform',e.container)),e.textAlign($('.themify_font_align',e.container)),e.pickColor(),e.radioChange($('.logo-modes',e.container),'mode')}}),a.controlConstructor.themify_logo=a.ThemifyLogo,a.ThemifyTagline=a.ThemifyControl.extend({field:'.themify_tagline_control',ready(){const e=this,i=$(e.field,e.container);e.value||(e.value={}),e.value[e.id]=i.val()?h(i.val()):{},e.changeMode('.tagline'),e.inputOption($('.site-description',e.container),'blogdescription'),e.openMedia(),e.input($('.img-width',e.container),'imgwidth'),e.input($('.img-height',e.container),'imgheight'),e.collapse($('.disable-control',e.container)),e.fontFamily($('.themify_font_family',e.container)),e.input($('.font_size_num',e.container),'sizenum'),e.dropdown($('.font_size_unit',e.container),'sizeunit'),e.input($('.letter_spacing',e.container),'letterspacing'),e.dropdown($('.letter_spacing_unit',e.container),'letterspacingunit'),e.input($('.font_line_num',e.container),'linenum'),e.dropdown($('.font_line_unit',e.container),'lineunit'),e.dropdown($('.font_weight_select',e.container),'weight'),e.fontStyle($('.themify_font_style',e.container)),e.textTransform($('.themify_text_transform',e.container)),e.textAlign($('.themify_font_align',e.container)),e.pickColor(),e.input($('.site-description-link',e.container),'link')}}),a.controlConstructor.themify_tagline=a.ThemifyTagline,a.ThemifyBackground=a.ThemifyControl.extend({field:'.themify_background_control',noImage(e){const i=this,t=$(i.field,i.container),n=$('.open-media-wrap, .image-label, .background-style, .background-position',i.container);e.on('click',function(){i.value[i.id]||(i.value[i.id]={}),$(this).prop('checked')?(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].noimage='noimage'):i.value[i.id].noimage='noimage',n.stop().slideUp()):(i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].noimage=''):i.value[i.id].noimage='',n.stop().slideDown()),t.val(JSON.stringify(i.value[i.id])).trigger('change')}),e.prop('checked')&&n.hide()},fixedBg(e){const i=this,t=$(i.field,i.container);e.on('click',function(){i.value[i.id]||(i.value[i.id]={}),$(this).prop('checked')?i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].fixedbg='fixed'):i.value[i.id].fixedbg='fixed':i.isResponsiveStyling()?(_.isUndefined(i.value[i.id][i.getCurrentDevice()])&&(i.value[i.id][i.getCurrentDevice()]={}),i.value[i.id][i.getCurrentDevice()].fixedbg=''):i.value[i.id].fixedbg='',t.val(JSON.stringify(i.value[i.id])).trigger('change')})},ready(){const e=this,i=$(e.field,e.container);e.value[e.id]=i.val()?h(i.val()):{},e.noImage($('.disable-control',e.container)),e.fixedBg($('.fixed-bg input[type="checkbox"]',e.container)),e.openMedia(),e.dropdown($('.image-style',e.container),'style'),e.dropdown($('.position-style',e.container),'position'),e.pickColor(),e.transparent($('.color-transparent',e.container))}}),a.controlConstructor.themify_background=a.ThemifyBackground,a.ThemifyColor=a.ThemifyControl.extend({field:'.themify_color_control',ready(){const e=this,i=$(e.field,e.container);e.value[e.id]=i.val()?h(i.val()):{},e.pickColor(),e.transparent($('.color-transparent',e.container))}}),a.controlConstructor.themify_color=a.ThemifyColor,a.ThemifyImage=a.ThemifyBackground.extend({field:'.themify_image_control',ready(){const e=this,i=$(e.field,e.container);e.value[e.id]=i.val()?h(i.val()):{},e.input($('.img-width',e.container),'imgwidth'),e.input($('.img-height',e.container),'imgheight'),e.openMedia()}}),a.controlConstructor.themify_image=a.ThemifyImage,a.ThemifyBorder=a.ThemifyControl.extend({field:'.themify_border_control',ready(){const e=this,i=$(e.field,e.container);if(i.val())e.value[e.id]=h(i.val());else{const t={color:'',opacity:'',style:'',width:''};e.value[e.id]={},e.value[e.id].top=t,e.value[e.id].left=t,e.value[e.id].bottom=t,e.value[e.id].right=t}e.collapse($('.disable-control',e.container)),e.pickBorderColor(),e.dropdownBorderSame($('.border-style',e.container)),e.dimensionSame($('.dimension-width',e.container)),e.hideComponentsSame($('.same',e.container))}}),a.controlConstructor.themify_border=a.ThemifyBorder,a.ThemifyMargin=a.ThemifyControl.extend({field:'.themify_margin_control',ready(){const e=this,i=$(e.field,e.container);if(i.val())e.value[e.id]=h(i.val());else{const t={width:'',unit:'px'};e.value[e.id]={},e.value[e.id].top=t,e.value[e.id].left=t,e.value[e.id].bottom=t,e.value[e.id].right=t}e.collapse($('.disable-control',e.container)),e.dimensionSame($('.dimension-width',e.container)),e.dropdownSame($('.dimension-unit',e.container),'unit'),e.autoSame($('.auto-prop',e.container)),e.hideComponentsSame($('.same',e.container))}}),a.controlConstructor.themify_margin=a.ThemifyMargin,a.ThemifyPadding=a.ThemifyMargin.extend({field:'.themify_padding_control'}),a.controlConstructor.themify_padding=a.ThemifyPadding,a.ThemifyWidth=a.ThemifyControl.extend({field:'.themify_width_control',ready(){const e=this,i=$(e.field,e.container);i.val()?e.value[e.id]=h(i.val()):e.value[e.id]={width:'',unit:'px',auto:''},e.dimension($('.dimension-width',e.container)),e.dropdown($('.dimension-unit',e.container),'unit'),e.auto($('.auto-prop',e.container))}}),a.controlConstructor.themify_width=a.ThemifyWidth,a.ThemifyHeight=a.ThemifyWidth.extend({field:'.themify_height_control'}),a.controlConstructor.themify_height=a.ThemifyHeight,a.ThemifyPosition=a.ThemifyControl.extend({field:'.themify_position_control',dropdownPosition(e,t){const n=this,o=$(n.field,n.container),i=e.find('option:selected').val();e.on('change',function(){const e=$(this),i=$('option:selected',e).val();n.value[n.id]||(n.value[n.id]={}),n.value[n.id][t]=i,o.val(JSON.stringify(n.value[n.id])).trigger('change'),i&&'static'!==i?e.closest('.themify-customizer-brick').parent().find('.position-wrap').show():e.closest('.themify-customizer-brick').parent().find('.position-wrap').hide()}),i&&'static'!==i?e.closest('.themify-customizer-brick').parent().find('.position-wrap').show():e.closest('.themify-customizer-brick').parent().find('.position-wrap').hide()},ready(){const e=this,i=$(e.field,e.container);e.value[e.id]=i.val()?h(i.val()):{position:''},e.dropdownPosition($('.position',e.container),'position'),e.dimensionSame($('.dimension-width',e.container)),e.dropdownSame($('.dimension-unit',e.container),'unit'),e.autoSame($('.auto-prop',e.container))}}),a.controlConstructor.themify_position=a.ThemifyPosition,a.ThemifyCustomCSS=a.ThemifyControl.extend({field:'.themify_customcss_control',expand(i){$('.themify-expand',i.container).on('click',function(e){e.preventDefault(),i.editor.codemirror.setOption('fullScreen',!0),$('.close-custom-css-expanded').addClass('enable-expanded-area'),$('.close-custom-css-expanded').on('click',function(){i.editor.codemirror.setOption('fullScreen',!1),$('.close-custom-css-expanded').removeClass('enable-expanded-area')})})},ready(){const e=this,i=$(e.field,e.container),t=$('.customcss',e.container);e.value[e.id]=i.data('value')?window.atob(i.data('value')):'',i.data('value',''),i.val(e.value[e.id]),e.initSyntaxHighlightingEditor(),e.expand(e,t)},initSyntaxHighlightingEditor(n){if(void 0!==wp.codeEditor){let i=this,e,t;e=(n||i.container).find('textarea'),(t=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{}).codemirror=_.extend({},t.codemirror,{indentUnit:2,tabSize:2,mode:'css'}),i.editor=wp.codeEditor.initialize(e,t),$(i.editor.codemirror.display.lineDiv).attr({role:'textbox','aria-multiline':'true','aria-label':i.params.label,'aria-describedby':'editor-keyboard-trap-help-1 editor-keyboard-trap-help-2 editor-keyboard-trap-help-3 editor-keyboard-trap-help-4'}),i.editor.codemirror.on('change',e=>{i.container.find('textarea').val(e.getValue()).trigger('change')}),i.editor.codemirror.on('keydown',function(e,i){27==i.keyCode&&i.stopPropagation()}),a('customcss',n=>{n.validate=e=>{const i=wp.CodeMirror.lint.css(e,{errors:1}),t='invalid_css';return i&&0<i.length?n.notifications.add(t,new wp.customize.Notification(t,{message:themifyCustomizerControls.invalid_css,type:'warning'})):n.notifications.remove(t),e}})}}}),a.controlConstructor.themify_customcss=a.ThemifyCustomCSS,a.ThemifyImageSelect=a.ThemifyControl.extend({field:'.themify_image_select_control',ready(){var i=this,t=$(i.field,i.container);t.val()?i.value[i.id]=h(t.val()):i.value[i.id]={type:'',selected:''},$('.image-select',i.container).on('click',function(e){e.preventDefault(),i.value[i.id].selected=$(this).data('option'),t.val(JSON.stringify(i.value[i.id])).trigger('change')})}}),a.controlConstructor.themify_image_select=a.ThemifyImageSelect,a.ThemifyTools=a.ThemifyControl.extend({field:'.themify_tools_control',clearing:!1,saveOptionCallback(){$('#customize-header-actions').find('.save').trigger('click')},ready(){var o=this;a.bind('saved',function(){var e;a.ThemifyTools.field&&('true'===o.getParameterByName('cleared')?window.location.reload():(e='#'==(e=window.top.location.href)[e.length-1]?e.replace('#',''):e,window.top.location=e),a.ThemifyTools.field=!1)}),$('.clearall',o.container).on('click',function(){var e,i,t,n;window.confirm(themifyCustomizerControls.clearMessage)&&(a.ThemifyTools.field=!0,$('.themify-customizer-value-field').each(function(){$(this).val('').trigger('change')}),a.previewer.send('themify-customize-clearall'),e=$('.customize-control-themify_logo').find('.site-name').val(),i=$('.customize-control-themify_tagline').find('.site-name').val(),t=$(this).data('sitename'),n=$(this).data('tagline'),e!=t||i!=n?(o.saveOption('blogname',t),o.saveOption('blogdescription',n)):o.saveOptionCallback())}),$('.customize-export',o.container).on('click',function(e){'Published'==$('#customize-header-actions').find('.save').val()||window.confirm(themifyCustomizerControls.exportMessage)||e.preventDefault()})}}),a.controlConstructor.themify_tools=a.ThemifyTools,$('body').on('click','#customize-footer-actions .devices button',function(){var e=$(this).data('device'),i=$('#customize-preview');t='object'==typeof themifyCustomizerControls.responsiveBreakpoints&&(t=themifyCustomizerControls.responsiveBreakpoints[e])?{width:(t='tablet_landscape'===e?976:t)+'px',marginLeft:-t/2}:{width:'',marginLeft:''},i.css(t)}),$('body').on('click','#customize-control-start_mobile_menu_acc_ctrl > .themify-suba-toggle',function(e){var i=$('#customize-preview > iframe')[0].contentWindow;$(this).closest('.customize-control').hasClass('topen')?($('#customize-footer-actions .preview-desktop').click(),setTimeout(function(){$('#customize-preview').width()>themifyCustomizerControls.mobile_menu_trigger_point&&$('#customize-preview').css({width:themifyCustomizerControls.mobile_menu_trigger_point+'px',marginLeft:($('#customize-preview').width()-themifyCustomizerControls.mobile_menu_trigger_point)/2}),setTimeout(function(){i.jQuery('body').hasClass('mobile-menu-visible')||i.jQuery('#menu-icon span').click()},1e3)},1e3)):$('#customize-footer-actions .preview-desktop').click()}).on('click','#customize-footer-actions button',function(){$(this).hasClass('preview-desktop')||$('#customize-control-start_mobile_menu_acc_ctrl.topen .themify-suba-toggle').click()})}(wp,jQuery);