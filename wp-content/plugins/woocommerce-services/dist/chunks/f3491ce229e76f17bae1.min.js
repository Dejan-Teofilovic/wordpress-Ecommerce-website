(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{563:function(e,t,n){"use strict";var i=n(107),o=n.n(i),r=n(108),s=n.n(r),a=n(530),c=n.n(a),u=n(529),l=n.n(u),p=n(534),f=n.n(p),h=n(531),d=n.n(h),m=n(35),v=n.n(m),b=n(12),g=n.n(b),y=n(10),k=n.n(y),N=n(528),O=n.n(N),E=n(1),C=n(34),j=n(537),w=n.n(j);n(574);function I(e){var t=e.children;return k.a.createElement("span",{className:"screen-reader-text"},t)}var D=function(e){function t(){var e,n;o()(this,t);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=c()(this,(e=l()(t)).call.apply(e,[this].concat(r))),v()(f()(n),"dismissTimeout",null),n}return d()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.icon,o=e.isCompact,r=e.isLoading,s=e.onDismissClick,a=e.showDismiss,c=void 0===a?!o:a,u=e.status,l=e.text,p=e.translate,f=O()("notice",u,n,{"is-compact":o,"is-loading":r,"is-dismissable":c});return k.a.createElement("div",{className:f},k.a.createElement("span",{className:"notice__icon-wrapper"},k.a.createElement(w.a,{className:"notice__icon",icon:i||this.getIcon(),size:24})),k.a.createElement("span",{className:"notice__content"},k.a.createElement("span",{className:"notice__text"},l||t)),l?t:null,c&&k.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:s},k.a.createElement(w.a,{icon:"cross",size:24}),k.a.createElement(I,null,p("Dismiss"))))}}]),t}(y.Component);v()(D,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:E.noop,status:null,text:null}),v()(D,"propTypes",{className:g.a.string,duration:g.a.number,icon:g.a.string,isCompact:g.a.bool,isLoading:g.a.bool,onDismissClick:g.a.func,showDismiss:g.a.bool,status:g.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:g.a.oneOfType([g.a.arrayOf(g.a.oneOfType([g.a.string,g.a.node])),g.a.oneOfType([g.a.string,g.a.node])]),translate:g.a.func.isRequired});t.a=Object(C.localize)(D)},570:function(e,t,n){"use strict";var i=n(47),o=n.n(i),r=n(1),s=n(114),a=o()("calypso:notices");a("initializing notices");var c,u={containerNames:{}};c=u,Object(r.assign)(c,s.EventEmitter.prototype),c.emitChange=function(){this.emit("change")},c.off=c.removeListener;var l=[],p={new:function(e,t,n){var i=t.overlay?"overlay-notices":"notices";u.containerNames[i]=i,a("creating notice",e,t,n),u[i]=[];var o={type:t.type||"message",status:n,text:e,duration:t.duration,container:i,button:t.button,href:t.href,onClick:function(e){if("function"===typeof t.onClick){var n=p.removeNotice.bind(p,o);return t.onClick(e,n)}},onRemoveCallback:t.onRemoveCallback||function(){},arrow:t.arrow,isCompact:t.isCompact,showDismiss:t.showDismiss,persistent:t.persistent};return t.displayOnNextPage?l.push(o):u[i].push(o),u.emit("change"),o},success:function(e,t){return t=t||{},this.new(e,t,"is-success")},error:function(e,t){return t=t||{},this.new(e,t,"is-error")},info:function(e,t){return t=t||{},this.new(e,t,"is-info")},warning:function(e,t){return t=t||{},this.new(e,t,"is-warning")},list:u,removeNotice:function(e){if(e.container){var t=u[e.container],n=t.indexOf(e);-1!==n&&(t.splice(n,1),u.emit("change"))}},clearNoticesOnNavigation:function(e,t){a("clearNoticesOnNavigation");var n=!1,i=function(e){return e.persistent};for(var o in u.containerNames){var r=u[o].length;u[o]=u[o].filter(i),r!==u[o].length&&(n=!0)}l.length&&(l.forEach(function(e){u[e.container]=[],u[e.container].push(e)}),l=[]),n&&u.emit("change"),t()},clearNotices:function(e){u[e]=[],u.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};t.a=p},574:function(e,t,n){},603:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var i=n(107),o=n.n(i),r=n(108),s=n.n(r),a=n(530),c=n.n(a),u=n(529),l=n.n(u),p=n(531),f=n.n(p),h=n(35),d=n.n(h),m=n(12),v=n.n(m),b=n(10),g=n.n(b),y=n(537),k=n.n(y),N=function(e){function t(){return o()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"render",value:function(){var e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),g.a.createElement("a",e,g.a.createElement("span",null,this.props.children),this.props.icon&&g.a.createElement(k.a,{icon:this.props.icon,size:24}),this.props.external&&g.a.createElement(k.a,{icon:"external",size:24}))}}]),t}(g.a.Component);d()(N,"displayName","NoticeAction"),d()(N,"propTypes",{href:v.a.string,onClick:v.a.func,external:v.a.bool,icon:v.a.string}),d()(N,"defaultProps",{external:!1})},611:function(e,t,n){},626:function(e,t,n){"use strict";var i=n(533),o=n.n(i),r=n(536),s=n.n(r),a=n(165),c=n.n(a),u=n(12),l=n.n(u),p=n(10),f=n.n(p),h=n(563),d=n(603),m=n(528),v=n.n(m);n(611);function b(e){var t=e.id,n=e.className,i=e.children;return f.a.createElement("div",{id:t,className:v()("global-notices",n)},i)}var g=n(570),y=n(47),k=n.n(y)()("calypso:data-observe"),N=n(109),O=n(1),E=n(546),C=Object(E.a)(function(e){return Object(O.values)(e.notices.items)},function(e){return e.notices.items}),j=(Object(E.a)(function(e,t){return e.notices.lastTimeShown[t]||0},function(e){return e.notices.lastTimeShown}),n(549)),w=c()({displayName:"GlobalNotices",mixins:[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{componentDidMount:function(){t.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):k(e+" is not set.")},this)},componentWillUnmount:function(){t.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){t.forEach(function(t){this.props[t]!==e[t]&&(this.props[t]&&this.props[t].off("change",this.update),e[t]&&e[t].on("change",this.update))},this)},update:function(){k("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}("notices")],propTypes:{id:l.a.string,notices:l.a.oneOfType([l.a.object,l.a.array]),removeNotice:l.a.func.isRequired,storeNotices:l.a.array.isRequired},getDefaultProps:function(){return{id:"overlay-notices",notices:Object.freeze([])}},removeNoticeStoreNotice:function(e){return function(){e&&g.a.removeNotice(e)}},removeReduxNotice:function(e,t){var n=this;return function(i){t&&t(i),n.props.removeNotice(e)}},render:function(){var e=(this.props.notices[this.props.id]||[]).map(function(e,t){return f.a.createElement(h.a,{key:"notice-old-"+t,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&f.a.createElement(d.a,{href:e.href,onClick:e.onClick},e.button))},this);return(e=e.concat(this.props.storeNotices.map(function(e){var t=e.button,n=e.href,i=e.noticeId,r=e.onClick,a=e.onDismissClick,c=s()(e,["button","href","noticeId","onClick","onDismissClick"]);return f.a.createElement(h.a,o()({},c,{key:"notice-".concat(i),onDismissClick:this.removeReduxNotice(i,a)}),t&&f.a.createElement(d.a,{href:n,onClick:r},t))},this))).length?f.a.createElement(b,{id:this.props.id},e):null}});t.a=Object(N.b)(function(e){return{storeNotices:C(e)}},{removeNotice:j.c})(w)},736:function(e,t,n){"use strict";var i=n(107),o=n.n(i),r=n(108),s=n.n(r),a=n(530),c=n.n(a),u=n(529),l=n.n(u),p=n(531),f=n.n(p),h=n(10),d=n(12),m=n.n(d),v=n(109),b=n(30),g=n(588),y=n(550),k=function(e){function t(){return o()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"fetch",value:function(e){var t=e.siteId,n=e.loaded,i=e.fetching,o=e.error;n||i||o||this.props.fetchSettings(t)}},{key:"UNSAFE_componentWillMount",value:function(){this.fetch(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fetch(e)}},{key:"render",value:function(){return null}}]),t}(h.Component);k.propTypes={siteId:m.a.number.isRequired},t.a=Object(v.b)(function(e){return{loaded:Object(y.d)(e),fetching:Object(y.c)(e),error:Object(y.b)(e)}},function(e){return Object(b.b)({fetchSettings:g.a},e)})(k)},737:function(e,t,n){"use strict";var i=n(107),o=n.n(i),r=n(108),s=n.n(r),a=n(530),c=n.n(a),u=n(529),l=n.n(u),p=n(531),f=n.n(p),h=n(10),d=n(12),m=n.n(d),v=n(109),b=n(30),g=n(568),y=n(544),k=function(e){function t(){return o()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),s()(t,[{key:"fetch",value:function(e){var t=e.siteId,n=e.loaded,i=e.fetching,o=e.error;n||i||o||this.props.fetchSettings(t)}},{key:"UNSAFE_componentWillMount",value:function(){this.fetch(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fetch(e)}},{key:"render",value:function(){return null}}]),t}(h.Component);k.propTypes={siteId:m.a.number.isRequired},t.a=Object(v.b)(function(e){return{loaded:Object(y.i)(e),fetching:Object(y.h)(e),error:Object(y.g)(e)}},function(e){return Object(b.b)({fetchSettings:g.fetchSettings},e)})(k)},836:function(e,t,n){"use strict";n.r(t);var i=n(36),o=n.n(i),r=n(107),s=n.n(r),a=n(108),c=n.n(a),u=n(530),l=n.n(u),p=n(529),f=n.n(p),h=n(534),d=n.n(h),m=n(531),v=n.n(m),b=n(35),g=n.n(b),y=n(10),k=n.n(y),N=n(12),O=n.n(N),E=n(30),C=n(109),j=n(34),w=n(736),I=n(737),D=n(754),L=n(586),T=function(e){function t(){var e,n;s()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=l()(this,(e=f()(t)).call.apply(e,[this].concat(o))),g()(d()(n),"fetch",function(){var e=n.props,t=e.fetchLocations,i=e.loadingLocations,o=e.locationsLoaded,r=e.siteId;!i&&!o&&t(r)}),g()(d()(n),"componentDidMount",function(){n.fetch()}),g()(d()(n),"componentDidUpdate",function(){n.fetch()}),g()(d()(n),"render",function(){return null}),n}return v()(t,e),t}(y.Component);g()(T,"propTypes",{fetchLocations:O.a.func,siteId:O.a.number.isRequired,loadingLocations:O.a.bool.isRequired,locationsLoaded:O.a.bool.isRequired});var _=Object(C.b)(function(e){return{loadingLocations:Object(L.c)(e),locationsLoaded:Object(L.b)(e)}},function(e){return Object(E.b)({fetchLocations:D.a},e)})(T),R=n(547),S=n(541),x=function(e){function t(){return s()(this,t),l()(this,f()(t).apply(this,arguments))}return v()(t,e),c()(t,[{key:"fetch",value:function(e){var t=e.orderId,n=e.siteId,i=e.loaded,o=e.fetching,r=e.error,s=e.refreshedLabelStatus;i||o||r?i&&!s&&this.props.fetchLabelsStatus(t,n):this.props.fetchLabelsData(t,n)}},{key:"UNSAFE_componentWillMount",value:function(){this.fetch(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fetch(e)}},{key:"render",value:function(){var e=this.props.siteId;return k.a.createElement("div",null,k.a.createElement(w.a,{siteId:e}),k.a.createElement(I.a,{siteId:e}),k.a.createElement(_,{siteId:e}))}}]),t}(y.Component);x.propTypes={siteId:O.a.number.isRequired,orderId:O.a.number.isRequired};var A=Object(C.b)(function(e,t){var n=t.orderId;return{loaded:Object(S.t)(e,n),fetching:Object(S.s)(e,n),error:Object(S.r)(e,n),refreshedLabelStatus:Object(S.m)(e,n)}},function(e){return Object(E.b)({fetchLabelsData:R.q,fetchLabelsStatus:R.r},e)})(x),q=n(626),U=n(570),W=n(535),z=n(758),P=n(677),M=n(631),F=n(668),J=function(e){function t(){var e,n;s()(this,t);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=l()(this,(e=f()(t)).call.apply(e,[this].concat(o))),g()(d()(n),"renderActivityLog",function(){var e=n.props,t=e.siteId,i=e.orderId,o=e.events,r=e.translate;return 0===o.length?r("No tracking information available at this time"):k.a.createElement("div",{className:"shipment-tracking__dummy-class order-activity-log"},k.a.createElement(z.a,{orderId:i,siteId:t}))}),n}return v()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.siteId,n=e.orderId,i=e.orderLoading,o=e.orderLoaded;t&&n&&!i&&!o&&this.props.fetchOrder(t,n)}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.orderId;return k.a.createElement("div",{className:"shipment-tracking__container"},k.a.createElement(q.a,{notices:U.a.list}),k.a.createElement(A,{orderId:n,siteId:t,origin:"tracking"}),this.renderActivityLog())}}]),t}(y.Component);g()(J,"propTypes",{orderId:O.a.number.isRequired});t.default=Object(C.b)(function(e,t){var n=t.orderId,i=Object(W.a)(e);return{siteId:i,events:Object(P.b)(e,n),orderLoading:Object(M.c)(e,n,i),orderLoaded:Object(M.b)(e,n,i)}},function(e){return o()({},Object(E.b)({fetchOrder:F.e},e))})(Object(j.localize)(J))}}]);