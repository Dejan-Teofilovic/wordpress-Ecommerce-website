import{C as u,f as p}from"./Caret.2b15c7cb.js";import{n as i}from"./_plugin-vue2_normalizer.d86aa1f3.js";import{C as d}from"./Tooltip.e966c16d.js";import{T as m}from"./Slide.fe1da4fd.js";const b={props:{additionalFilters:{type:Array,required:!0},selectedFilters:{type:Object,default(){return{}}}},data(){return{strings:{filter:this.$t.__("Filter",this.$td)}}},mounted(){this.setInitialOptions()},updated(){this.setInitialOptions()},methods:{setInitialOptions(){this.additionalFilters.forEach(s=>{this.selectedFilters[s.name]||this.$set(this.selectedFilters,s.name,s.options[0].value)})}}};var _=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aioseo-wp-additional-filters alignleft actions"},[e._l(e.additionalFilters,function(a,n){return[t("label",{key:n+"_label",staticClass:"screen-reader-text",attrs:{for:"filter-by-date"}},[e._v(e._s(a.label))]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedFilters[a.name],expression:"selectedFilters[filter.name]"}],key:n+"_select",attrs:{name:a.name},on:{change:[function(l){var r=Array.prototype.filter.call(l.target.options,function(o){return o.selected}).map(function(o){var c="_value"in o?o._value:o.value;return c});e.$set(e.selectedFilters,a.name,l.target.multiple?r:r[0])},l=>e.$emit("change",{name:a.name,selectedValue:l.target.value})]}},e._l(a.options,function(l,r){return t("option",{key:r,domProps:{value:l.value}},[e._v(" "+e._s(l.label)+" ")])}),0)]}),t("button",{staticClass:"button action",on:{click:function(a){return e.$emit("process-additional-filters",e.selectedFilters)}}},[e._v(" "+e._s(e.strings.filter)+" ")])],2)},g=[],h=i(b,_,g,!1,null,null,null,null);const v=h.exports;const f={props:{bulkOptions:{type:Array,required:!0},disableTable:Boolean},data(){return{bulkAction:"-1",strings:{bulkActions:this.$t.__("Bulk Actions",this.$td),apply:this.$t.__("Apply",this.$td)}}}};var y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aioseo-wp-bulk-actions alignleft actions bulkactions"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.bulkAction,expression:"bulkAction"}],attrs:{disabled:e.disableTable},on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(l){return l.selected}).map(function(l){var r="_value"in l?l._value:l.value;return r});e.bulkAction=a.target.multiple?n:n[0]}}},[t("option",{attrs:{value:"-1"}},[e._v(e._s(e.strings.bulkActions))]),e._l(e.bulkOptions,function(a,n){return t("option",{key:n,domProps:{value:a.value}},[e._v(e._s(a.label))])})],2),t("button",{staticClass:"button action",attrs:{disabled:e.disableTable},on:{click:function(a){e.bulkAction!=="-1"&&e.$emit("process-bulk-action",e.bulkAction)}}},[e._v(" "+e._s(e.strings.apply)+" ")])])},k=[],P=i(f,y,k,!1,null,null,null,null);const w=P.exports;const $={props:{value:Number,disableTable:Boolean},data(){return{items:[5,10,20,25,50,100],itemsPerPage:20,strings:{itemsPerPage:this.$t.__("items per page",this.$td)}}},watch:{itemsPerPage(s){this.$emit("input",s)}},mounted(){this.itemsPerPage=this.value}};var C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aioseo-wp-items-per-page alignleft"},[t("label",[t("select",{directives:[{name:"model",rawName:"v-model",value:e.itemsPerPage,expression:"itemsPerPage"}],attrs:{disabled:e.disableTable},on:{change:function(a){var n=Array.prototype.filter.call(a.target.options,function(l){return l.selected}).map(function(l){var r="_value"in l?l._value:l.value;return r});e.itemsPerPage=a.target.multiple?n:n[0]}}},e._l(e.items,function(a,n){return t("option",{key:n,domProps:{value:a}},[e._v(e._s(a))])}),0),t("span",[e._v(e._s(e.strings.itemsPerPage))])])])},N=[],T=i($,C,N,!1,null,null,null,null);const A=T.exports,F={props:{totals:{type:Object,required:!0},initialPageNumber:{type:Number,default(){return 1}},disableTable:Boolean},data(){return{pageNumber:1,strings:{of:this.$t.__("of",this.$td),items:this.$t.__("items",this.$td)}}},watch:{initialPageNumber(s){s!==this.pageNumber&&(this.pageNumber=s)}},methods:{toPage(s){this.pageNumber=s,this.$emit("paginate",parseInt(s))}},created(){this.pageNumber=this.initialPageNumber}};var B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tablenav-pages pagination"},[t("span",{staticClass:"displaying-num"},[e._v(e._s(e.$numbers.numberFormat(e.totals.total))+" "+e._s(e.strings.items))]),t("span",{staticClass:"pagination-links"},[t(e.pageNumber===1?"span":"a",{tag:"component",class:e.pageNumber===1?"tablenav-pages-navspan button disabled":"first-page button",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.pageNumber===1||e.toPage(1)}}},[e._v(" \xAB ")]),t(e.pageNumber===1?"span":"a",{tag:"component",class:e.pageNumber===1?"tablenav-pages-navspan button disabled":"prev-page button",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.pageNumber===1||e.toPage(e.pageNumber-1)}}},[e._v("\u2039")]),t("span",{staticClass:"paging-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pageNumber,expression:"pageNumber"}],staticClass:"current-page",attrs:{type:"number",name:"paged",size:"2",min:1,max:e.totals.pages||1,step:1,"aria-describedby":"table-paging",disabled:!e.totals.pages||e.disableTable},domProps:{value:e.pageNumber},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.toPage(e.pageNumber)},input:function(a){a.target.composing||(e.pageNumber=a.target.value)}}}),t("span",{staticClass:"tablenav-paging-text"},[e._v(" "+e._s(e.strings.of)+" "+e._s(e.totals.pages||0)+" ")])]),t(e.pageNumber===e.totals.pages||!e.totals.pages?"span":"a",{tag:"component",class:e.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"next-page button",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.pageNumber===e.totals.pages||!e.totals.pages||e.toPage(e.pageNumber+1)}}},[e._v(" \u203A ")]),t(e.pageNumber===e.totals.pages||!e.totals.pages?"span":"a",{tag:"component",class:e.pageNumber===e.totals.pages||!e.totals.pages?"tablenav-pages-navspan button disabled":"last-page button",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),e.pageNumber===e.totals.pages||!e.totals.pages||e.toPage(e.totals.pages)}}},[e._v(" \xBB ")])],1)])},R=[],x=i(F,B,R,!1,null,null,null,null);const I=x.exports;const O={compnents:{CoreTooltip:d},props:{column:{type:Object,required:!0},disableTable:Boolean,allowTooltipIcon:Boolean}};var S=function(){var e=this,t=e._self._c;return t("th",{staticClass:"aioseo-manage-column manage-column",class:[{sortable:!e.disableTable&&e.column.sortable,asc:e.column.sortDir==="asc"&&e.column.sortable,desc:e.column.sortDir==="desc"&&e.column.sortable,sorted:e.column.sortable&&e.column.sorted},e.column.slug],style:{width:e.column.width},attrs:{scope:"col"}},[e.allowTooltipIcon&&e.column.tooltipIcon?[t("div",{staticClass:"aioseo-table-header-tooltip-icon"},[t("core-tooltip",{staticClass:"action",attrs:{type:"action"},scopedSlots:e._u([{key:"tooltip",fn:function(){return[e._v(" "+e._s(e.column.label)+" ")]},proxy:!0}],null,!1,1239929371)},[t(e.column.tooltipIcon,{tag:"component"})],1)],1)]:e._e(),!e.allowTooltipIcon||!e.column.tooltipIcon?[e.column.sortable?[t("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),(n=>e.$emit("sort-column",e.column,n)).apply(null,arguments)}}},[t("span",[e._v(e._s(e.column.label))]),t("span",{staticClass:"sorting-indicator"})])]:e._e(),e.column.sortable?e._e():[e._v(" "+e._s(e.column.label)+" ")]]:e._e()],2)},q=[],D=i(O,S,q,!1,null,null,null,null);const j=D.exports;const W={components:{CoreLoader:u,CoreWpAdditionalFilters:v,CoreWpBulkActions:w,CoreWpItemsPerPage:A,CoreWpPagination:I,CoreWpTableHeaderFooter:j,TransitionSlide:m},props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},filters:{type:Array,required:!1},totals:{type:Object,required:!1},loading:Boolean,showSearch:{type:Boolean,default(){return!0}},showBulkActions:{type:Boolean,default(){return!0}},showPagination:{type:Boolean,default(){return!0}},showTableFooter:{type:Boolean,default(){return!0}},showHeader:{type:Boolean,default(){return!0}},searchLabel:{type:String,default(){return this.$t.__("Search",this.$td)}},initialPageNumber:{type:Number,default(){return 1}},initialItemsPerPage:{type:Number,default(){return 20}},initialSearchTerm:{type:String,default(){return""}},bulkOptions:Array,additionalFilters:Array,selectedFilters:Object,itemsPerPageFilter:String,blurRows:Boolean,disableTable:Boolean,showItemsPerPage:Boolean},data(){return{itemsPerPage:null,searchTerm:"",pageNumber:1,activeRow:null,strings:{items:this.$t.__("items",this.$td),noResults:this.$t.__("No items found.",this.$td)}}},watch:{initialPageNumber(s){this.pageNumber=s},pageNumber(s){if(Math.abs(s)!==s){this.pageNumber=Math.floor(s);return}if(this.totals&&s>this.totals.pages){this.pageNumber=this.totals.pages;return}1>s&&(this.pageNumber=1)},itemsPerPage(s,e){e!==null&&this.processChangeItemsPerPage()}},methods:{showFilterCount(s){return Object.prototype.hasOwnProperty.call(s,"count")},editRow(s){if(s===null||this.activeRow===s){this.activeRow=null;return}this.activeRow=s},processSearch(){p(()=>{this.$emit("search",this.searchTerm)},100)},processChangeItemsPerPage(){this.$emit("process-change-items-per-page",this.itemsPerPage)},processBulkAction(s){this.$emit("process-bulk-action",{action:s,selectedRows:this.selectedItems()}),this.resetSelectedItems()},processPaginate(s){this.pageNumber=s,this.$emit("paginate",s,this.searchTerm)},processFilter(s){this.pageNumber=1,this.searchTerm="",this.$emit("filter-table",s)},processAdditionalFilters(s){this.pageNumber=1,this.searchTerm="",this.$emit("process-additional-filters",{filters:s})},selectedItems(){const s=this.$refs.table.querySelectorAll("tbody tr.main-row"),e=[];return s.forEach(t=>{const a=t.querySelector("th.check-column input");a&&a.checked&&e.push(t.dataset.rowId)}),e},resetSelectedItems(){const s=this.$refs.table.querySelectorAll(".check-column input:checked");s&&s.forEach(e=>e.checked=!1)},setPageNumber(s){this.pageNumber=s}},created(){this.pageNumber=this.initialPageNumber,this.searchTerm=this.initialSearchTerm,this.itemsPerPage=this.initialItemsPerPage}};var E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"aioseo-wp-table"},[e.showHeader?t("div",{staticClass:"header"},[t("ul",{staticClass:"subsubsub"},e._l(e.filters,function(a,n){return t("li",{key:n,class:a.slug},[t("span",{staticClass:"name",class:{active:a.active}},[!a.active&&!e.disableTable?t("a",{attrs:{href:"#"},on:{click:function(l){return l.preventDefault(),e.processFilter(a)}}},[e._v(" "+e._s(a.name)+" "),e.showFilterCount(a)?t("span",[e._v("\xA0("+e._s(e.$numbers.numberFormat(a.count))+")")]):e._e()]):e._e(),a.active||e.disableTable?[e._v(" "+e._s(a.name)+" "),e.showFilterCount(a)?t("span",[e._v("\xA0("+e._s(e.$numbers.numberFormat(a.count))+")")]):e._e()]:e._e()],2),n+1<e.filters.length?t("span",{staticClass:"separator"},[e._v("|")]):e._e()])}),0),e.showSearch?t("p",{staticClass:"search-box"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"search",id:"post-search-input",name:"s",disabled:e.disableTable},domProps:{value:e.searchTerm},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.processSearch.apply(null,arguments)},search:e.processSearch,input:function(a){a.target.composing||(e.searchTerm=a.target.value)}}}),t("input",{staticClass:"button",attrs:{type:"submit",id:"search-submit",disabled:e.disableTable},domProps:{value:e.searchLabel},on:{click:function(a){return a.preventDefault(),e.processSearch.apply(null,arguments)}}})]):e._e(),t("div",{staticClass:"tablenav top"},[e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?t("core-wp-bulk-actions",{attrs:{"bulk-options":e.bulkOptions,"disable-table":e.disableTable},on:{"process-bulk-action":e.processBulkAction}}):e._e(),e.additionalFilters&&e.additionalFilters.length?t("core-wp-additional-filters",{attrs:{"additional-filters":e.additionalFilters,"selected-filters":e.selectedFilters},on:{change:a=>e.$emit("additional-filter-option-selected",a),"process-additional-filters":e.processAdditionalFilters}}):e._e(),e.showPagination?t("core-wp-pagination",{attrs:{totals:e.totals,"initial-page-number":e.pageNumber,"disable-table":e.disableTable},on:{paginate:e.processPaginate}}):e._e(),t("br",{staticClass:"clear"})],1)]):e._e(),t("div",{staticClass:"wp-table"},[t("table",{ref:"table",staticClass:"wp-list-table widefat fixed",class:{blurred:e.blurRows},attrs:{cellpadding:"0",cellspacing:"0","aria-label":"Paginated Table"}},[t("thead",[t("tr",[e.showBulkActions?t("td",{staticClass:"manage-column column-cb check-column"},[t("input",{attrs:{type:"checkbox",disabled:e.loading||e.disableTable}})]):e._e(),e._l(e.columns,function(a,n){return t("core-wp-table-header-footer",{key:n,attrs:{column:a,"disable-table":e.disableTable,"allow-tooltip-icon":""},on:{"sort-column":(l,r)=>e.$emit("sort-column",l,r)}})})],2)]),e.rows?t("tbody",{attrs:{id:"the-list"}},[e.loading?t("div",{staticClass:"loader-overlay"},[t("core-loader")],1):e._e(),e._l(e.rows,function(a,n){return[t("tr",{key:n+"_"+a.id,staticClass:"main-row",class:{even:n%2===0,enabled:a.enabled||!a.hasOwnProperty("enabled")},attrs:{"data-row-id":a.rowIndex&&a[a.rowIndex]||a.id||a.url||n}},[e.showBulkActions?t("th",{staticClass:"check-column",attrs:{scope:"row"}},[a.preventBulkAction?e._e():t("input",{attrs:{type:"checkbox",disabled:e.disableTable}})]):e._e(),e._l(e.columns,function(l,r){return t("td",{key:r,staticClass:"manage-column",class:l.slug},[e.$scopedSlots[l.slug]?[e._t(l.slug,null,{row:a,column:a[l.slug],editRow:e.editRow,index:n,editRowActive:e.activeRow===n})]:e._e(),e.$scopedSlots[l.slug]?e._e():t("span",[e._v(" "+e._s(a[l.slug])+" ")])],2)})],2),t("tr",{key:n+"_edit",staticClass:"edit-row",class:{even:n%2===0}},[t("td",{staticClass:"edit-row-content",attrs:{colspan:e.showBulkActions?e.columns.length+1:e.columns.length}},[t("transition-slide",{staticClass:"wrapper",attrs:{tag:"div",active:n===e.activeRow}},[t("div",{staticClass:"border"},[e._t("edit-row",null,{row:a,index:n,editRow:e.editRow})],2)])],1)])]}),e.rows.length?e._e():[t("td",{attrs:{colspan:e.columns.length+1}},[t("div",{staticClass:"no-results"},[e.loading?e._e():t("span",[e._v(e._s(e.strings.noResults))])])])]],2):e._e(),e.showTableFooter?t("tfoot",[t("tr",[e.showBulkActions?t("td",{staticClass:"manage-column column-cb check-column"},[t("input",{attrs:{type:"checkbox",disabled:e.loading||e.disableTable}})]):e._e(),e._l(e.columns,function(a,n){return t("core-wp-table-header-footer",{key:n,attrs:{column:a,"disable-table":e.disableTable},on:{"sort-column":(l,r)=>e.$emit("sort-column",l,r)}})})],2)]):e._e()]),e._t("cta")],2),e.showTableFooter?t("div",{staticClass:"tablenav bottom"},[e.showBulkActions&&e.bulkOptions&&e.bulkOptions.length?t("core-wp-bulk-actions",{attrs:{"bulk-options":e.bulkOptions,"disable-table":e.disableTable},on:{"process-bulk-action":e.processBulkAction}}):e._e(),e.showItemsPerPage?t("core-wp-items-per-page",{attrs:{"disable-table":e.disableTable},model:{value:e.itemsPerPage,callback:function(a){e.itemsPerPage=a},expression:"itemsPerPage"}}):e._e(),t("div",{staticClass:"alignleft actions"}),e.showPagination?t("core-wp-pagination",{attrs:{totals:e.totals,"initial-page-number":e.pageNumber,"disable-table":e.disableTable},on:{paginate:e.processPaginate}}):e._e(),t("br",{staticClass:"clear"})],1):e._e()])},L=[],H=i(W,E,L,!1,null,null,null,null);const G=H.exports;export{G as C};
