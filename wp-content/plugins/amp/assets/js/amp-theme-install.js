!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=ampThemes,n=window.wp.i18n,i=window.wp.domReady,r=e.n(i);const s=wp.themes.view.Theme;var a=s.extend({isAmpCompatibleTab:()=>new URLSearchParams(window.location.search.substr(1)).get("browse")===t.AMP_COMPATIBLE,render(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];if(s.prototype.render.apply(this,i),0>=(null===(e=this.$el)||void 0===e?void 0:e.length)||!this.$el[0])return;const a=this.$el[0],o=this.model.toJSON();let l=null==o?void 0:o.slug;if(l||(l=null==o?void 0:o.id),l&&this.isAmpTheme(l)&&setTimeout((()=>{if(this.isAmpCompatibleTab())return;const e=document.createElement("div"),t=document.createElement("span"),i=document.createElement("span");e.classList.add("amp-extension-card-message"),t.classList.add("amp-logo-icon"),i.classList.add("tooltiptext"),i.append((0,n.__)("This is known to work well with the AMP plugin.","amp")),e.append(t,i),a.appendChild(e)})),l&&!this.isWPORGTheme(l)){const e=document.createElement("span");e.classList.add("dashicons","dashicons-external"),e.setAttribute("aria-hidden","true");const t=document.createElement("span");t.classList.add("screen-reader-text"),t.append((0,n.__)("(opens in a new tab)","amp"));const i=document.createElement("a");i.classList.add("button","button-primary"),i.append((0,n.__)("Visit Site","amp"),t,e),null!=o&&o.preview_url?i.href=o.preview_url:i.href=o.homepage,i.target="_blank",i.rel="noopener noreferrer",i.setAttribute("aria-label",(0,n.sprintf)(
/* translators: %s: theme name. */
(0,n.__)("Visit site of %s theme","amp"),o.name));const r=a.querySelector(".theme-actions");r&&(r.textContent="",r.append(i));const s=a.querySelector(".more-details");s&&(s.textContent="",s.append((0,n.__)("Visit Site","amp"),e.cloneNode(!0)))}},preview(){const e=this.model.toJSON();if(this.isWPORGTheme(e.slug)){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];s.prototype.preview.apply(this,n)}else null!=e&&e.preview_url&&window.open(e.preview_url,"_blank","noopener,noreferrer")},isAmpTheme:e=>t.AMP_THEMES.includes(e),isWPORGTheme:e=>!t.NONE_WPORG_THEMES.includes(e)});const o={init(){this.addTab(),this.overrideViews()},addTab(){const e=document.querySelector(".filter-links");if(!e)return;const i=document.createElement("li"),r=document.createElement("a");r.setAttribute("href","#"),r.setAttribute("data-sort",t.AMP_COMPATIBLE),r.append((0,n.__)("AMP Compatible","amp")),i.appendChild(r),e.appendChild(i)},overrideViews(){wp.themes.view.Theme=a}};r()((()=>{o.init()}))}();