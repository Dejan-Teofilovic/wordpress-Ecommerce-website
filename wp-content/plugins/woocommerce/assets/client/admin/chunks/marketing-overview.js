"use strict";(self.webpackChunk_wcAdmin_webpackJsonp=self.webpackChunk_wcAdmin_webpackJsonp||[]).push([[1996],{91712:function(e,t,r){r.r(t),r.d(t,{default:function(){return $}});var n=r(69307),o=r(67221),a=r(5267),i=r(65736),s=r(94333),c=r(9818),l=r(7862),m=r.n(l),d=r(55609),g=r(14812),u=r(86020),p=r(14599),h=r(87818);class _ extends n.Component{constructor(e){super(e),this.onActivateClick=this.onActivateClick.bind(this),this.onFinishSetupClick=this.onFinishSetupClick.bind(this)}getLinks(){const{docsUrl:e,settingsUrl:t,supportUrl:r,dashboardUrl:o}=this.props,a=[];return e&&a.push({key:"docs",href:e,text:(0,i.__)("Docs","woocommerce")}),r&&a.push({key:"support",href:r,text:(0,i.__)("Get support","woocommerce")}),t&&a.push({key:"settings",href:t,text:(0,i.__)("Settings","woocommerce")}),o&&a.push({key:"dashboard",href:o,text:(0,i.__)("Dashboard","woocommerce")}),(0,n.createElement)("ul",{className:"woocommerce-marketing-installed-extensions-card__item-links"},a.map((e=>(0,n.createElement)("li",{key:e.key},(0,n.createElement)(u.Link,{href:e.href,type:"external",onClick:this.onLinkClick.bind(this,e)},e.text)))))}onLinkClick(e){const{name:t}=this.props;(0,p.recordEvent)("marketing_installed_options",{name:t,link:e.key})}onActivateClick(){const{activatePlugin:e,name:t}=this.props;(0,p.recordEvent)("marketing_installed_activate",{name:t}),e()}onFinishSetupClick(){const{name:e}=this.props;(0,p.recordEvent)("marketing_installed_finish_setup",{name:e})}getActivateButton(){const{isLoading:e}=this.props;return(0,n.createElement)(h.zx,{isSecondary:!0,onClick:this.onActivateClick,disabled:e},(0,i.__)("Activate","woocommerce"))}getFinishSetupButton(){return(0,n.createElement)(h.zx,{isSecondary:!0,href:this.props.settingsUrl,onClick:this.onFinishSetupClick},(0,i.__)("Finish setup","woocommerce"))}render(){const{name:e,description:t,status:r,slug:o}=this.props;let a=null;switch(r){case"installed":a=this.getActivateButton();break;case"activated":a=this.getFinishSetupButton();break;case"configured":a=this.getLinks()}return(0,n.createElement)("div",{className:"woocommerce-marketing-installed-extensions-card__item"},(0,n.createElement)(h.wq,{product:o}),(0,n.createElement)("div",{className:"woocommerce-marketing-installed-extensions-card__item-text-and-actions"},(0,n.createElement)("div",{className:"woocommerce-marketing-installed-extensions-card__item-text"},(0,n.createElement)("h4",null,e),"configured"===r||(0,n.createElement)("p",{className:"woocommerce-marketing-installed-extensions-card__item-description"},t)),(0,n.createElement)("div",{className:"woocommerce-marketing-installed-extensions-card__item-actions"},a)))}}_.defaultProps={isLoading:!1},_.propTypes={name:m().string.isRequired,slug:m().string.isRequired,description:m().string.isRequired,status:m().string.isRequired,settingsUrl:m().string,docsUrl:m().string,supportUrl:m().string,dashboardUrl:m().string,activatePlugin:m().func.isRequired};var k=_,w=r(51455);class E extends n.Component{activatePlugin(e){const{activateInstalledPlugin:t}=this.props;t(e)}isActivatingPlugin(e){const{activatingPlugins:t}=this.props;return t.includes(e)}render(){const{plugins:e}=this.props;if(0===e.length)return null;const t=(0,i.__)("Installed marketing extensions","woocommerce");return(0,n.createElement)(d.Card,{className:"woocommerce-marketing-installed-extensions-card"},(0,n.createElement)(d.CardHeader,null,(0,n.createElement)(g.Text,{variant:"title.small",size:"20",lineHeight:"28px"},t)),e.map((e=>(0,n.createElement)(k,(0,a.Z)({key:e.slug},e,{activatePlugin:()=>this.activatePlugin(e.slug),isLoading:this.isActivatingPlugin(e.slug)})))))}}E.propTypes={plugins:m().arrayOf(m().object).isRequired,activatingPlugins:m().arrayOf(m().string).isRequired};var v=(0,s.compose)((0,c.withSelect)((e=>{const{getInstalledPlugins:t,getActivatingPlugins:r}=e(w.L);return{plugins:t(),activatingPlugins:r()}})),(0,c.withDispatch)((e=>{const{activateInstalledPlugin:t}=e(w.L);return{activateInstalledPlugin:t}})))(E),y=r(83849),f=r.n(y),b=r(85883);const N=e=>{let{title:t,description:r,url:o,product:a,category:i}=e;const s="woocommerce-marketing-recommended-extensions-item",c=(0,b.C)(o);return"coupons"===i&&"automatewoo"===a&&(a="automatewoo-alt"),(0,n.createElement)("a",{href:c,className:s,onClick:()=>{(0,p.recordEvent)("marketing_recommended_extension",{name:t})}},(0,n.createElement)(h.wq,{product:a}),(0,n.createElement)("div",{className:`${s}__text`},(0,n.createElement)("h4",null,t),(0,n.createElement)("p",null,r)))};N.propTypes={title:m().string.isRequired,description:m().string.isRequired,url:m().string.isRequired,product:m().string.isRequired,category:m().string.isRequired};var x=N,P=()=>{const e="is-loading woocommerce-marketing-recommended-extensions-item";return(0,n.createElement)("div",{className:e,"aria-hidden":"true"},(0,n.createElement)("div",{className:"woocommerce-admin-marketing-product-icon is-placeholder"}),(0,n.createElement)("div",{className:`${e}__text`},(0,n.createElement)("h4",{className:"is-placeholder","aria-hidden":"true"}),(0,n.createElement)("p",null,(0,n.createElement)("span",{className:"is-placeholder"}),(0,n.createElement)("span",{className:"is-placeholder"}),(0,n.createElement)("span",{className:"is-placeholder"}))))},C=r(34135);const O=e=>{let{extensions:t,isLoading:r,title:o,description:i,category:s}=e;if(0===t.length&&!r)return null;const c=s?`woocommerce-marketing-recommended-extensions-card__category-${s}`:"";return(0,n.createElement)(C.Z,{title:o,description:i,className:f()("woocommerce-marketing-recommended-extensions-card",c)},r?(0,n.createElement)("div",{className:f()("woocommerce-marketing-recommended-extensions-card__items","woocommerce-marketing-recommended-extensions-card__items--count-5")},[...Array(5).keys()].map((e=>(0,n.createElement)(P,{key:e})))):(0,n.createElement)("div",{className:f()("woocommerce-marketing-recommended-extensions-card__items",`woocommerce-marketing-recommended-extensions-card__items--count-${t.length}`)},t.map((e=>(0,n.createElement)(x,(0,a.Z)({key:e.product,category:s},e))))))};O.propTypes={extensions:m().arrayOf(m().object).isRequired,isLoading:m().bool.isRequired,title:m().string,description:m().string,category:m().string},O.defaultProps={title:(0,i.__)("Recommended extensions","woocommerce"),description:(0,i.__)("Great marketing requires the right tools. Take your marketing to the next level with our recommended marketing extensions.","woocommerce")};var L=(0,s.compose)((0,c.withSelect)(((e,t)=>{const{getRecommendedPlugins:r,isResolving:n}=e(w.L);return{extensions:r(t.category),isLoading:n("getRecommendedPlugins",[t.category])}})),(0,c.withDispatch)((e=>{const{createNotice:t}=e("core/notices");return{createNotice:t}})))(O),R=e=>{const t="woocommerce-marketing-knowledgebase-card__post";return(0,n.createElement)("div",{className:`is-loading ${t}`,key:e,"aria-hidden":"true"},(0,n.createElement)("div",{className:`${t}-img is-placeholder`}),(0,n.createElement)("div",{className:`${t}-text`},(0,n.createElement)("h3",{className:"is-placeholder","aria-hidden":"true"}),(0,n.createElement)("p",{className:`${t}-meta is-placeholder`})))};const S=e=>{let{posts:t,isLoading:r,error:o,title:a,description:s,category:c}=e;const[l,m]=(0,n.useState)(1),[d,g]=(0,n.useState)(null),_=c?`woocommerce-marketing-knowledgebase-card__category-${c}`:"";return(0,n.createElement)(h.Zb,{title:a,description:s,className:f()("woocommerce-marketing-knowledgebase-card",_)},r?(0,n.createElement)("div",{className:"woocommerce-marketing-knowledgebase-card__posts"},(0,n.createElement)("div",{className:"woocommerce-marketing-knowledgebase-card__page"},(0,n.createElement)(R,null),(0,n.createElement)(R,null))):o?(()=>{const e=(0,i.__)("Oops, our posts aren't loading right now","woocommerce");return(0,n.createElement)(u.EmptyContent,{title:e,message:(0,n.createElement)(h.WL,null),illustration:"",actionLabel:""})})():0===t.length?(()=>{const e=(0,i.__)("No posts yet","woocommerce");return(0,n.createElement)(u.EmptyContent,{title:e,message:(0,n.createElement)(h.WL,null),illustration:"",actionLabel:""})})():(0,n.createElement)("div",{className:"woocommerce-marketing-knowledgebase-card__posts"},(0,n.createElement)(h.iR,{animationKey:l,animate:d},(()=>{const e=t.slice(2*(l-1),2*(l-1)+2),r=f()("woocommerce-marketing-knowledgebase-card__page",{"page-with-single-post":1===e.length}),o=e.map(((e,t)=>(0,n.createElement)("a",{className:"woocommerce-marketing-knowledgebase-card__post",href:e.link,key:t,onClick:()=>{(e=>{(0,p.recordEvent)("marketing_knowledge_article",{title:e.title})})(e)},target:"_blank",rel:"noopener noreferrer"},e.image&&(0,n.createElement)("div",{className:"woocommerce-marketing-knowledgebase-card__post-img"},(0,n.createElement)("img",{src:e.image,alt:""})),(0,n.createElement)("div",{className:"woocommerce-marketing-knowledgebase-card__post-text"},(0,n.createElement)("h3",null,e.title),(0,n.createElement)("p",{className:"woocommerce-marketing-knowledgebase-card__post-meta"},(0,i.__)("By","woocommerce")+" ",e.author_name,e.author_avatar&&(0,n.createElement)("img",{src:e.author_avatar.replace("s=96","s=32"),className:"woocommerce-gravatar",alt:"",width:"16",height:"16"}))))));return(0,n.createElement)("div",{className:r},o)})()),(0,n.createElement)(u.Pagination,{page:l,perPage:2,total:t.length,onPageChange:e=>{let t;e>l?(t="left",(0,p.recordEvent)("marketing_knowledge_carousel",{direction:"forward",page:e})):(t="right",(0,p.recordEvent)("marketing_knowledge_carousel",{direction:"back",page:e})),m(e),g(t)},showPagePicker:!1,showPerPagePicker:!1,showPageArrowsLabel:!1})))};S.propTypes={posts:m().arrayOf(m().object).isRequired,isLoading:m().bool.isRequired,title:m().string,description:m().string,category:m().string},S.defaultProps={title:(0,i.__)("WooCommerce knowledge base","woocommerce"),description:(0,i.__)("Learn the ins and outs of successful marketing from the experts at WooCommerce.","woocommerce")};var q=(0,s.compose)((0,c.withSelect)(((e,t)=>{const{getBlogPosts:r,getBlogPostsError:n,isResolving:o}=e(w.L);return{posts:r(t.category),isLoading:o("getBlogPosts",[t.category]),error:n(t.category)}})),(0,c.withDispatch)((e=>{const{createNotice:t}=e("core/notices");return{createNotice:t}})))(S),A=r(46634),B=r(37915);const T=e=>{let{isHidden:t,updateOptions:r}=e;return t?null:(0,n.createElement)(d.Card,{className:"woocommerce-marketing-overview-welcome-card"},(0,n.createElement)(d.CardBody,null,(0,n.createElement)(d.Button,{label:(0,i.__)("Hide","woocommerce"),onClick:()=>{r({woocommerce_marketing_overview_welcome_hidden:"yes"}),(0,p.recordEvent)("marketing_intro_close",{})},className:"woocommerce-marketing-overview-welcome-card__hide-button"},(0,n.createElement)(A.Z,null)),(0,n.createElement)("img",{src:B,alt:""}),(0,n.createElement)("h3",null,(0,i.__)("Grow your customer base and increase your sales with marketing tools built for WooCommerce","woocommerce"))))};T.propTypes={isHidden:m().bool.isRequired,updateOptions:m().func.isRequired};var U=(0,s.compose)((0,c.withSelect)((e=>{const{getOption:t,isOptionsUpdating:r}=e(o.OPTIONS_STORE_NAME),n=r();return{isHidden:"yes"===t("woocommerce_marketing_overview_welcome_hidden")||n}})),(0,c.withDispatch)((e=>{const{updateOptions:t}=e(o.OPTIONS_STORE_NAME);return{updateOptions:t}})))(T),j=r(79205);r(77975);var $=(0,o.withOptionsHydration)({...(0,j.O3)("preloadOptions",{})})((()=>{const{currentUserCan:e}=(0,o.useUser)(),t=(0,j.O3)("allowMarketplaceSuggestions",!1)&&e("install_plugins");return(0,n.createElement)("div",{className:"woocommerce-marketing-overview"},(0,n.createElement)(U,null),(0,n.createElement)(v,null),t&&(0,n.createElement)(L,{category:"marketing"}),(0,n.createElement)(q,{category:"marketing"}))}))},46634:function(e,t,r){t.Z=function(e){var t=e.size,r=void 0===t?24:t,n=e.onClick,s=(e.icon,e.className),c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,a),l=["gridicon","gridicons-cross",s,!1,!1,!1].filter(Boolean).join(" ");return o.default.createElement("svg",i({className:l,height:r,width:r,onClick:n},c,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}),o.default.createElement("g",null,o.default.createElement("path",{d:"M18.36 19.78L12 13.41l-6.36 6.37-1.42-1.42L10.59 12 4.22 5.64l1.42-1.42L12 10.59l6.36-6.36 1.41 1.41L13.41 12l6.36 6.36z"})))};var n,o=(n=r(99196))&&n.__esModule?n:{default:n},a=["size","onClick","icon","className"];function i(){return i=Object.assign||function(e){for(var t,r=1;r<arguments.length;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)}},37915:function(e,t,r){e.exports=r.p+"caccb4422a460479f86c.svg"}}]);