(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[5],{29:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(0),s=n(13),a=n.n(s);function c(e){const t=Object(o.useRef)(e);return a()(e,t.current)||(t.current=e),t.current}},291:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(0),s=n(6),a=n(3);n(293);const c=e=>{let{errorMessage:t="",propertyName:n="",elementId:c=""}=e;const{validationError:r,validationErrorId:i}=Object(s.useSelect)(e=>{const t=e(a.VALIDATION_STORE_KEY);return{validationError:t.getValidationError(n),validationErrorId:t.getValidationErrorId(c)}});if(!t||"string"!=typeof t){if(null==r||!r.message||null!=r&&r.hidden)return null;t=r.message}return Object(o.createElement)("div",{className:"wc-block-components-validation-error",role:"alert"},Object(o.createElement)("p",{id:i},t))};t.b=c},293:function(e,t){},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(1),s=n(6),a=n(3),c=n(23),r=n(38);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const{cartCoupons:t,cartIsLoading:n}=Object(r.a)(),{createErrorNotice:i}=Object(s.useDispatch)("core/notices"),{createNotice:l}=Object(s.useDispatch)("core/notices"),{setValidationErrors:p}=Object(s.useDispatch)(a.VALIDATION_STORE_KEY),{applyCoupon:u,removeCoupon:d,isApplyingCoupon:m,isRemovingCoupon:h}=Object(s.useSelect)((e,t)=>{let{dispatch:n}=t;const o=e(a.CART_STORE_KEY),s=n(a.CART_STORE_KEY);return{applyCoupon:s.applyCoupon,removeCoupon:s.removeCoupon,isApplyingCoupon:o.isApplyingCoupon(),isRemovingCoupon:o.isRemovingCoupon(),receiveApplyingCoupon:s.receiveApplyingCoupon}},[i,l]),b=t=>{u(t).then(n=>{!0===n&&l("info",Object(o.sprintf)(
/* translators: %s coupon code. */
Object(o.__)('Coupon code "%s" has been applied to your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(e=>{p({coupon:{message:Object(c.decodeEntities)(e.message),hidden:!1}}),receiveApplyingCoupon("")})},g=t=>{d(t).then(n=>{!0===n&&l("info",Object(o.sprintf)(
/* translators: %s coupon code. */
Object(o.__)('Coupon code "%s" has been removed from your cart.',"woocommerce"),t),{id:"coupon-form",type:"snackbar",context:e})}).catch(t=>{i(t.message,{id:"coupon-form",context:e}),receiveApplyingCoupon("")})};return{appliedCoupons:t,isLoading:n,applyCoupon:b,removeCoupon:g,isApplyingCoupon:m,isRemovingCoupon:h}}},312:function(e,t){},315:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var o=n(29),s=n(18),a=n(6),c=n(3);const r=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{paymentMethodsInitialized:t,expressPaymentMethodsInitialized:n,availablePaymentMethods:r,availableExpressPaymentMethods:i}=Object(a.useSelect)(e=>{const t=e(c.PAYMENT_STORE_KEY);return{paymentMethodsInitialized:t.paymentMethodsInitialized(),expressPaymentMethodsInitialized:t.expressPaymentMethodsInitialized(),availableExpressPaymentMethods:t.getAvailableExpressPaymentMethods(),availablePaymentMethods:t.getAvailablePaymentMethods()}}),l=Object.values(r).map(e=>{let{name:t}=e;return t}),p=Object.values(i).map(e=>{let{name:t}=e;return t}),u=Object(s.getPaymentMethods)(),d=Object(s.getExpressPaymentMethods)(),m=Object.keys(u).reduce((e,t)=>(l.includes(t)&&(e[t]=u[t]),e),{}),h=Object.keys(d).reduce((e,t)=>(p.includes(t)&&(e[t]=d[t]),e),{}),b=Object(o.a)(m),g=Object(o.a)(h);return{paymentMethods:e?g:b,isInitialized:e?n:t}},i=()=>r(!1),l=()=>r(!0)},317:function(e,t,n){"use strict";var o=n(12),s=n.n(o),a=n(0),c=n(4),r=n.n(c);const i=e=>"wc-block-components-payment-method-icon wc-block-components-payment-method-icon--"+e;var l=e=>{let{id:t,src:n=null,alt:o=""}=e;return n?Object(a.createElement)("img",{className:i(t),src:n,alt:o}):null},p=n(46);const u=[{id:"alipay",alt:"Alipay",src:p.l+"payment-methods/alipay.svg"},{id:"amex",alt:"American Express",src:p.l+"payment-methods/amex.svg"},{id:"bancontact",alt:"Bancontact",src:p.l+"payment-methods/bancontact.svg"},{id:"diners",alt:"Diners Club",src:p.l+"payment-methods/diners.svg"},{id:"discover",alt:"Discover",src:p.l+"payment-methods/discover.svg"},{id:"eps",alt:"EPS",src:p.l+"payment-methods/eps.svg"},{id:"giropay",alt:"Giropay",src:p.l+"payment-methods/giropay.svg"},{id:"ideal",alt:"iDeal",src:p.l+"payment-methods/ideal.svg"},{id:"jcb",alt:"JCB",src:p.l+"payment-methods/jcb.svg"},{id:"laser",alt:"Laser",src:p.l+"payment-methods/laser.svg"},{id:"maestro",alt:"Maestro",src:p.l+"payment-methods/maestro.svg"},{id:"mastercard",alt:"Mastercard",src:p.l+"payment-methods/mastercard.svg"},{id:"multibanco",alt:"Multibanco",src:p.l+"payment-methods/multibanco.svg"},{id:"p24",alt:"Przelewy24",src:p.l+"payment-methods/p24.svg"},{id:"sepa",alt:"Sepa",src:p.l+"payment-methods/sepa.svg"},{id:"sofort",alt:"Sofort",src:p.l+"payment-methods/sofort.svg"},{id:"unionpay",alt:"Union Pay",src:p.l+"payment-methods/unionpay.svg"},{id:"visa",alt:"Visa",src:p.l+"payment-methods/visa.svg"},{id:"wechat",alt:"WeChat",src:p.l+"payment-methods/wechat.svg"}];var d=n(30);n(312),t.a=e=>{let{icons:t=[],align:n="center",className:o}=e;const c=(e=>{const t={};return e.forEach(e=>{let n={};"string"==typeof e&&(n={id:e,alt:e,src:null}),"object"==typeof e&&(n={id:e.id||"",alt:e.alt||"",src:e.src||null}),n.id&&Object(d.a)(n.id)&&!t[n.id]&&(t[n.id]=n)}),Object.values(t)})(t);if(0===c.length)return null;const i=r()("wc-block-components-payment-method-icons",{"wc-block-components-payment-method-icons--align-left":"left"===n,"wc-block-components-payment-method-icons--align-right":"right"===n},o);return Object(a.createElement)("div",{className:i},c.map(e=>{const t={...e,...(n=e.id,u.find(e=>e.id===n)||{})};var n;return Object(a.createElement)(l,s()({key:"payment-method-icon-"+e.id},t))}))}},351:function(e,t){},352:function(e,t,n){"use strict";var o=n(17),s=n.n(o),a=n(0),c=n(1),r=n(8),i=n(2),l=n(138),p=n(65);class u extends r.Component{constructor(){super(...arguments),s()(this,"state",{errorMessage:"",hasError:!1})}static getDerivedStateFromError(e){return{errorMessage:e.message,hasError:!0}}render(){const{hasError:e,errorMessage:t}=this.state,{isEditor:n}=this.props;if(e){let e=Object(c.__)("We are experiencing difficulties with this payment method. Please contact us for assistance.","woocommerce");(n||i.CURRENT_USER_IS_ADMIN)&&(e=t||Object(c.__)("There was an error with this payment method. Please verify it's configured correctly.","woocommerce"));const o=[{id:"0",content:e,isDismissible:!1,status:"error"}];return Object(a.createElement)(l.a,{additionalNotices:o,context:p.noticeContexts.PAYMENTS})}return this.props.children}}u.defaultProps={isEditor:!1},t.a=u},377:function(e,t){},378:function(e,t,n){"use strict";var o=n(0),s=n(1),a=n(315),c=n(432),r=n(36),i=n(21),l=n.n(i),p=n(6),u=n(352),d=n(108);t.a=()=>{const{isEditor:e}=Object(r.a)(),{activePaymentMethod:t,paymentMethodData:n}=Object(p.useSelect)(e=>{const t=e(d.a);return{activePaymentMethod:t.getActivePaymentMethod(),paymentMethodData:t.getPaymentMethodData()}}),{__internalSetActivePaymentMethod:i,__internalSetPaymentStatus:m,__internalSetExpressPaymentError:h}=Object(p.useDispatch)(d.a),{paymentMethods:b}=Object(a.a)(),g=Object(c.a)(),v=Object(o.useRef)(t),y=Object(o.useRef)(n),O=Object(o.useCallback)(e=>()=>{v.current=t,y.current=n,m({isStarted:!0}),i(e)},[t,n,i,m]),E=Object(o.useCallback)(()=>{m({isPristine:!0}),i(v.current,y.current)},[i,m]),j=Object(o.useCallback)(e=>{m({hasError:!0},e),h(e),i(v.current,y.current)},[i,m,h]),f=Object(o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";l()("Express Payment Methods should use the provided onError handler instead.",{alternative:"onError",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),e?j(e):h("")}),[h,j]),S=Object.entries(b),P=S.length>0?S.map(t=>{let[n,s]=t;const a=e?s.edit:s.content;return Object(o.isValidElement)(a)?Object(o.createElement)("li",{key:n,id:"express-payment-method-"+n},Object(o.cloneElement)(a,{...g,onClick:O(n),onClose:E,onError:j,setExpressPaymentError:f})):null}):Object(o.createElement)("li",{key:"noneRegistered"},Object(s.__)("No registered Payment Methods","woocommerce"));return Object(o.createElement)(u.a,{isEditor:e},Object(o.createElement)("ul",{className:"wc-block-components-express-payment__event-buttons"},P))}},410:function(e,t,n){"use strict";var o=n(0),s=n(15);const a=Object(o.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(o.createElement)(s.Path,{fillRule:"evenodd",d:"M5.5 9.5v-2h13v2h-13zm0 3v4h13v-4h-13zM4 7a1 1 0 011-1h14a1 1 0 011 1v10a1 1 0 01-1 1H5a1 1 0 01-1-1V7z",clipRule:"evenodd"}));t.a=a},432:function(e,t,n){"use strict";n.d(t,"a",(function(){return z}));var o=n(1),s=n(40),a=n(0),c=n(4),r=n.n(c),i=n(15),l=Object(a.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)("g",{fill:"none",fillRule:"evenodd"},Object(a.createElement)("path",{d:"M0 0h24v24H0z"}),Object(a.createElement)("path",{fill:"#000",fillRule:"nonzero",d:"M17.3 8v1c1 .2 1.4.9 1.4 1.7h-1c0-.6-.3-1-1-1-.8 0-1.3.4-1.3.9 0 .4.3.6 1.4 1 1 .2 2 .6 2 1.9 0 .9-.6 1.4-1.5 1.5v1H16v-1c-.9-.1-1.6-.7-1.7-1.7h1c0 .6.4 1 1.3 1 1 0 1.2-.5 1.2-.8 0-.4-.2-.8-1.3-1.1-1.3-.3-2.1-.8-2.1-1.8 0-.9.7-1.5 1.6-1.6V8h1.3zM12 10v1H6v-1h6zm2-2v1H6V8h8zM2 4v16h20V4H2zm2 14V6h16v12H4z"}),Object(a.createElement)("path",{stroke:"#000",strokeLinecap:"round",d:"M6 16c2.6 0 3.9-3 1.7-3-2 0-1 3 1.5 3 1 0 1-.8 2.8-.8"}))),p=Object(a.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(i.Path,{fillRule:"evenodd",d:"M18.646 9H20V8l-1-.5L12 4 5 7.5 4 8v1h14.646zm-3-1.5L12 5.677 8.354 7.5h7.292zm-7.897 9.44v-6.5h-1.5v6.5h1.5zm5-6.5v6.5h-1.5v-6.5h1.5zm5 0v6.5h-1.5v-6.5h1.5zm2.252 8.81c0 .414-.334.75-.748.75H4.752a.75.75 0 010-1.5h14.5a.75.75 0 01.749.75z",clipRule:"evenodd"})),u=Object(a.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(i.Path,{d:"M3.25 12a8.75 8.75 0 1117.5 0 8.75 8.75 0 01-17.5 0zM12 4.75a7.25 7.25 0 100 14.5 7.25 7.25 0 000-14.5zm-1.338 4.877c-.314.22-.412.452-.412.623 0 .171.098.403.412.623.312.218.783.377 1.338.377.825 0 1.605.233 2.198.648.59.414 1.052 1.057 1.052 1.852 0 .795-.461 1.438-1.052 1.852-.41.286-.907.486-1.448.582v.316a.75.75 0 01-1.5 0v-.316a3.64 3.64 0 01-1.448-.582c-.59-.414-1.052-1.057-1.052-1.852a.75.75 0 011.5 0c0 .171.098.403.412.623.312.218.783.377 1.338.377s1.026-.159 1.338-.377c.314-.22.412-.452.412-.623 0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377-.825 0-1.605-.233-2.198-.648-.59-.414-1.052-1.057-1.052-1.852 0-.795.461-1.438 1.052-1.852a3.64 3.64 0 011.448-.582V7.5a.75.75 0 011.5 0v.316c.54.096 1.039.296 1.448.582.59.414 1.052 1.057 1.052 1.852a.75.75 0 01-1.5 0c0-.171-.098-.403-.412-.623-.312-.218-.783-.377-1.338-.377s-1.026.159-1.338.377z"})),d=n(410),m=n(114),h=n(30),b=n(20);n(351);const g={bank:p,bill:u,card:d.a,checkPayment:l};var v=e=>{let{icon:t="",text:n=""}=e;const o=!!t,s=Object(a.useCallback)(e=>o&&Object(h.a)(e)&&Object(b.b)(g,e),[o]),c=r()("wc-block-components-payment-method-label",{"wc-block-components-payment-method-label--with-icon":o});return Object(a.createElement)("span",{className:c},s(t)?Object(a.createElement)(m.a,{icon:g[t]}):t,n)},y=n(317),O=n(2),E=n(21),j=n.n(E),f=n(147),S=n(6),P=n(3),C=n(291),_=n(38),k=n(311),w=n(43),M=n(88),R=n(122),x=n(89),I=n(90);const A=(e,t)=>{const n=[],s=(t,n)=>{const o=n+"_tax",s=Object(b.b)(e,n)&&Object(h.a)(e[n])?parseInt(e[n],10):0;return{key:n,label:t,value:s,valueWithTax:s+(Object(b.b)(e,o)&&Object(h.a)(e[o])?parseInt(e[o],10):0)}};return n.push(s(Object(o.__)("Subtotal:","woocommerce"),"total_items")),n.push(s(Object(o.__)("Fees:","woocommerce"),"total_fees")),n.push(s(Object(o.__)("Discount:","woocommerce"),"total_discount")),n.push({key:"total_tax",label:Object(o.__)("Taxes:","woocommerce"),value:parseInt(e.total_tax,10),valueWithTax:parseInt(e.total_tax,10)}),t&&n.push(s(Object(o.__)("Shipping:","woocommerce"),"total_shipping")),n};var T=n(119);const z=()=>{const{onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onCheckoutAfterProcessingWithSuccess:n,onCheckoutAfterProcessingWithError:c,onSubmit:r}=Object(M.b)(),{isCalculating:i,isComplete:l,isIdle:p,isProcessing:u,customerId:d}=Object(S.useSelect)(e=>{const t=e(P.CHECKOUT_STORE_KEY);return{isComplete:t.isComplete(),isIdle:t.isIdle(),isProcessing:t.isProcessing(),customerId:t.getCustomerId(),isCalculating:t.isCalculating()}}),{currentStatus:m,activePaymentMethod:h,shouldSavePayment:b}=Object(S.useSelect)(e=>{const t=e(P.PAYMENT_STORE_KEY);return{currentStatus:t.getCurrentStatus(),activePaymentMethod:t.getActivePaymentMethod(),shouldSavePayment:t.getShouldSavePaymentMethod()}}),{__internalSetExpressPaymentError:g}=Object(S.useDispatch)(P.PAYMENT_STORE_KEY),{onPaymentProcessing:E}=Object(R.b)(),{shippingErrorStatus:z,shippingErrorTypes:V,onShippingRateSuccess:D,onShippingRateFail:N,onShippingRateSelectSuccess:B,onShippingRateSelectFail:L}=Object(x.b)(),{shippingRates:Y,isLoadingRates:H,selectedRates:W,isSelectingRate:F,selectShippingRate:K,needsShipping:G}=Object(T.a)(),{billingAddress:U,shippingAddress:J,setShippingAddress:q}=Object(I.b)(),{cartItems:Q,cartFees:X,cartTotals:Z,extensions:$}=Object(_.a)(),{appliedCoupons:ee}=Object(k.a)(),te=Object(a.useRef)(A(Z,G)),ne=Object(a.useRef)({label:Object(o.__)("Total","woocommerce"),value:parseInt(Z.total_price,10)});Object(a.useEffect)(()=>{te.current=A(Z,G),ne.current={label:Object(o.__)("Total","woocommerce"),value:parseInt(Z.total_price,10)}},[Z,G]);const oe=Object(a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";j()("setExpressPaymentError should only be used by Express Payment Methods (using the provided onError handler).",{alternative:"",plugin:"woocommerce-gutenberg-products-block",link:"https://github.com/woocommerce/woocommerce-gutenberg-products-block/pull/4228"}),g(e)}),[g]);return{activePaymentMethod:h,billing:{appliedCoupons:ee,billingAddress:U,billingData:U,cartTotal:ne.current,cartTotalItems:te.current,currency:Object(s.getCurrencyFromPriceResponse)(Z),customerId:d,displayPricesIncludingTax:Object(O.getSetting)("displayCartPricesIncludingTax",!1)},cartData:{cartItems:Q,cartFees:X,extensions:$},checkoutStatus:{isCalculating:i,isComplete:l,isIdle:p,isProcessing:u},components:{LoadingMask:f.a,PaymentMethodIcons:y.a,PaymentMethodLabel:v,ValidationInputError:C.a},emitResponse:{noticeContexts:w.d,responseTypes:w.e},eventRegistration:{onCheckoutAfterProcessingWithError:c,onCheckoutAfterProcessingWithSuccess:n,onCheckoutBeforeProcessing:e,onCheckoutValidationBeforeProcessing:t,onPaymentProcessing:E,onShippingRateFail:N,onShippingRateSelectFail:L,onShippingRateSelectSuccess:B,onShippingRateSuccess:D},onSubmit:r,paymentStatus:m,setExpressPaymentError:oe,shippingData:{isSelectingRate:F,needsShipping:G,selectedRates:W,setSelectedRates:K,setShippingAddress:q,shippingAddress:J,shippingRates:Y,shippingRatesLoading:H},shippingStatus:{shippingErrorStatus:z,shippingErrorTypes:V},shouldSavePayment:b}}},65:function(e,t,n){}}]);